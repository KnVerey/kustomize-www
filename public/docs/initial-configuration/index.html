<!DOCTYPE html>
<html lang="en-us">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Initial configuration</title>
	
	<meta name="author" content="Replicated">
	<link rel="apple-touch-icon-precomposed" sizes="57x57" href="/favicons/apple-touch-icon-57x57.png" />
	<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/favicons/apple-touch-icon-114x114.png" />
	<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/favicons/apple-touch-icon-72x72.png" />
	<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/favicons/apple-touch-icon-144x144.png" />
	<link rel="apple-touch-icon-precomposed" sizes="60x60" href="/favicons/apple-touch-icon-60x60.png" />
	<link rel="apple-touch-icon-precomposed" sizes="120x120" href="/favicons/apple-touch-icon-120x120.png" />
	<link rel="apple-touch-icon-precomposed" sizes="76x76" href="/favicons/apple-touch-icon-76x76.png" />
	<link rel="apple-touch-icon-precomposed" sizes="152x152" href="/favicons/apple-touch-icon-152x152.png" />
	<link rel="icon" type="image/png" href="/favicons/favicon-196x196.png" sizes="196x196" />
	<link rel="icon" type="image/png" href="/favicons/favicon-96x96.png" sizes="96x96" />
	<link rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32" />
	<link rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16" />
	<link rel="icon" type="image/png" href="/favicons/favicon-128.png" sizes="128x128" />
	<meta name="application-name" content="&nbsp;"/>
	<meta name="msapplication-TileColor" content="#FFFFFF" />
	<meta name="msapplication-TileImage" content="mstile-144x144.png" />
	<meta name="msapplication-square70x70logo" content="mstile-70x70.png" />
	<meta name="msapplication-square150x150logo" content="mstile-150x150.png" />
	<meta name="msapplication-wide310x150logo" content="mstile-310x150.png" />
	<meta name="msapplication-square310x310logo" content="mstile-310x310.png" />	
	<link rel="stylesheet" href='/css/style-0bcbae9332.css'>
	<link rel="stylesheet" href='/css/featherlight.min.css'>
	<link rel="stylesheet" href="/css/highlight/prism.css">
	
	<meta name="generator" content="Hugo 0.26" />
	
	<script src="https://cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>
	<script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.min.js"></script>
</head>
<body>
	<header>
		
			<nav class="other-nav">
		
			<div class="container u-position--relative">
				<ul class="flex justifyContent--spaceBetween alignItems--center nav-list paddingContainer u-position--relative">
					<li>
						<a class="logo-link" href="/">
							<img width="109" src="/images/ship-logo@2x.png"/>
						</a>
					</li>
					<li>
						<ul id="headerLinks" class="header-links">
							
								<li><a href="/docs" id="navItem--docs">Docs</a></li>
							
						</ul>
					</li>
				</ul>
			</div>
			<div class="container u-position--relative">
				<div class="guides-sub-nav">
    <div class="flex u-position--relative">
        <div class="arrow"></div>
        <div class="guide-wrapper flex flex-column">
            <h3 class="u-fontWeight--bold u-fontSize--normal u-color--shipGreen u-marginBottom--more">Configuring</h3>
            <div class="guide">
                <a href="/docs/initial-configuration">
                    <p class="u-fontSize--small u-fontWeight--medium u-marginBottom--small u-color--darkBlue u-lineHeight--normal">Initial Configuration</p>
                    <p class="u-fontSize--small u-color--dustyGray u-lineHeight--normal">Configuring an application for the first deployment</p>
                </a>
            </div>
        </div>
        <div class="guide-wrapper flex flex-column">
            <h3 class="u-fontWeight--bold u-fontSize--normal u-color--shipGreen u-marginBottom--more">Testing</h3>
            <div class="guide">
                <a href="/docs/automated-testing">
                    <p class="u-fontSize--small u-fontWeight--medium u-marginBottom--small u-color--darkBlue u-lineHeight--normal">Automated Testing</p>
                    <p class="u-fontSize--small u-color--dustyGray u-lineHeight--normal">How to test a Ship application</p>
                </a>
            </div>
        </div>
        <div class="guide-wrapper flex flex-column">
            <h3 class="u-fontWeight--bold u-fontSize--normal u-color--shipGreen u-marginBottom--more">Deploying</h3>
            <div class="guide">
                <a href="/docs/automated-deployment">
                    <p class="u-fontSize--small u-fontWeight--medium u-marginBottom--small u-color--darkBlue u-lineHeight--normal">Automated Deployment</p>
                    <p class="u-fontSize--small u-color--dustyGray u-lineHeight--normal">How to automate the deployment of a Ship application.</p>
                </a>
            </div>
            <div class="guide u-marginTop--more">
                <a href="/docs/automated-deployment-kubernetes-app">
                    <p class="u-fontSize--small u-fontWeight--medium u-marginBottom--small u-color--darkBlue u-lineHeight--normal">Automatically Deploying to Kubernetes</p>
                    <p class="u-fontSize--small u-color--dustyGray u-lineHeight--normal">Set up a continuous delivery process to automate updates of a Kubernetes application.</p>
                </a>
            </div>
        </div>
        <div class="guide-wrapper flex flex-column u-position--relative">
            <h3 class="u-fontWeight--bold u-fontSize--normal u-color--shipGreen u-marginBottom--more">Best Practices</h3>
            <div class="guide">
                <a href="/docs/manage-state">
                    <p class="u-fontSize--small u-fontWeight--medium u-marginBottom--small u-color--darkBlue u-lineHeight--normal">Managing State</p>
                    <p class="u-fontSize--small u-color--dustyGray u-lineHeight--normal">Securely store and manage the Ship state file.</p>
                </a>
            </div>
            <div class="see-more flex alignItems--center u-position--absolute">
                <a href="/docs" class="u-fontWeight--medium u-fontSize--normal u-color--curiousBlue u-paddingRight--normal">See all docs</a>
                <span class="icon u-chevronIcon"></span>
            </div>
        </div>
    </div>
</div>

			</div>
		</nav>
	</header>
<main>
    <article class="single">
        <div class="u-gradient--greenToGreen main-section header flex-column flex1 justifyContent--center">
            <div class="container">
                <div class="paddingContainer">
                    <div class="flex flex-auto u-width--full justifyContent--spaceBetween alignItems--center u-marginTop--more">
                        <div class="u-width--full u-marginRight--more">
                            <h1 class="u-color--white u-fontWeight--bold u-fontSize--header u-textAlign--left">Initial configuration</h1>
                            <p class="u-fontSize--normal u-fontWeight--medium u-color--white u-marginTop--normal u-lineHeight--normal">Configuring an application for the first deployment</p>
                        </div>
                        <div class="flex-auto u-hidden--mobileTablet">
                            <span class="icon u- u-marginRight--normal"></span>
                        </div>
                    </div>
                    
                </div>
            </div>
        </div>
        <div class="container">
            <div class="paddingContainer">
                <div class="u-flexTabletReflow flex1">
                    <div class="flex-auto sidebar-wrapper">
                        <div class="sidebar">
                            <div class="toc u-marginBottom--most">
                                <h3 class="u-fontWeight--medium u-lineHeight--normal u-borderBottom--gray u-paddingBottom--normal u-marginBottom--normal">Initial configuration</h3>
								<nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#generating-the-initial-configuration">Generating the initial configuration</a></li>
<li><a href="#the-admin-console">The Admin Console</a></li>
<li><a href="#deploying">Deploying</a>
<ul>
<li><a href="#ship">./ship/</a></li>
<li><a href="#installer">installer/</a></li>
<li><a href="#installer-scripts">installer/scripts</a></li>
<li><a href="#installer-images">installer/images</a></li>
</ul></li>
<li><a href="#deploying-1">Deploying</a></li>
</ul></li>
</ul>
</nav>
                            </div>

                            
                        </div>
                    </div>
                    <div class="flex1 page-content-wrapper">
                        
                            <div class="page-content">
                                

<p>When configuring and deploying a Ship application, it&rsquo;s common to create the initial configuration, then build a audited, workflow-driven process to automate the deployment and future updates. When initially configuring and deploying an unfamiliar application, it&rsquo;s helpful to start with some easy-to-use tools to help bootstrap the process.</p>

<p>The best way to deploy a Replicated Ship application is to run the <code>replicated/ship</code> process on a workstation that doesn&rsquo;t have direct access to the production servers. Complete the initial configuration process and create all assets from this workstation. Ship provides a web-based UI that runs locally (in Docker) to make this process similar across different applications.</p>

<h2 id="generating-the-initial-configuration">Generating the initial configuration&nbsp;<a class="headline-hash" href="#generating-the-initial-configuration">#</a> </h2>

<p>Before an application can be installed, the initial configuration should be generated. Start with a workstation (MacOS, Windows, Linux) that has Docker installed. This process is designed to run on a workstation that can pull external resources (not airgapped), and prepare them for deployment inside the network. The workstation running the configuration isn&rsquo;t required to have access to the target server(s).</p>

<p>To start, run the command that the software vendor provided. For example:</p>

<pre><code class="language-shell">curl -sSL https://get.replicated.com/ship?customer_id=&lt;your_license_key&gt; | docker-compose -f - up
</code></pre>

<p>This will download a couple of Docker containers and then show a message similar to this:</p>

<pre><code class="language-shell">Please visit the following URL in your browser to continue the installation

        http://localhost:8800

</code></pre>

<h2 id="the-admin-console">The Admin Console&nbsp;<a class="headline-hash" href="#the-admin-console">#</a> </h2>

<p>Visiting this URL from the same workstation will open a web-based workflow to configure the application and bring all initial artifacts and configuration into a directory on the workstation, to be deployed at any time.</p>

<p>Each application will require different inputs to generate the initial configuration. Once you complete this, a message will show you that it&rsquo;s completed, and show the next steps.</p>

<p>The next steps will vary, depending on the application being configured. Be sure to read these.</p>

<h2 id="deploying">Deploying&nbsp;<a class="headline-hash" href="#deploying">#</a> </h2>

<p>After completing the initial configuration steps using the Admin Console, most applications will download and generate various assets (configuration files, docker images, kubernetes manifests, etc). By default, these will be stored in a directory named <code>./installer</code> (relative to the directory the Admin Console was started from).</p>

<p>Ship application will create several directories:</p>

<pre><code>└── ./ship
│     │
│     └── state.json
│     └── release.yaml
│
└── ./installer
│      │
│      └── scripts
│            │
│            └── install.sh
│            └── test.sh
│
└── images
└── k8s
</code></pre>

<h3 id="ship">./ship/&nbsp;<a class="headline-hash" href="#ship">#</a> </h3>

<p>Every Ship application will create a <code>.ship</code> directory with two files:</p>

<ul>
<li><code>state.json</code>: This file contains the version information and all values provided to the the Admin Console</li>
<li><code>release.yaml</code>: This is the raw, configured application manifest that can be used to automate the installation from a script</li>
</ul>

<h3 id="installer">installer/&nbsp;<a class="headline-hash" href="#installer">#</a> </h3>

<p>Every Ship application will create a <code>installer</code> directory. This contains all scripts and assets that are needed to be present to deploy the application. The <code>replicated/ship</code> container will produce everything in this directory when given a <code>./ship/state.json</code> and a <code>./ship/release.yaml</code> (defined above).</p>

<h3 id="installer-scripts">installer/scripts&nbsp;<a class="headline-hash" href="#installer-scripts">#</a> </h3>

<p>By convention, a Ship application will create a <code>installer/scripts</code> directory. This directory will contain any scripts necessary to install, update or test the application.</p>

<h3 id="installer-images">installer/images&nbsp;<a class="headline-hash" href="#installer-images">#</a> </h3>

<p>For applications that are packaged in Docker containers, the <code>installer/images</code> directory will contain exported, <code>.tar</code> files for all application images that are required to run the application.</p>

<h2 id="deploying-1">Deploying&nbsp;<a class="headline-hash" href="#deploying-1">#</a> </h2>

<p>Once the application has been configured locally, the <code>./ship/state.json</code> and <code>./ship/release.yaml</code> can be <a href="../manage-state">securely stored</a> and then configured to be <a href="../automated-deployment">automatically deployed</a>.</p>

                            </div>
                        
                    </div>
                </div>
            </div>
        </div>
        <div>
            
        </div>
    </article>
</main>
	<footer>
		<div class="container">
			<div class="footer-items-wrapper">
        <div class="footer-list flex1 paddingContainer">
					<div class="footer-list-item">
  <div class="footer-item">
    <div class="u-paddingBottom--normal">
      <a target="_blank" class="u-cursor--pointer" href="https://www.replicated.com">
        <img width="130" src="/images/footer_logo@2x.png"/>
      </a>
    </div>
    <div class="u-fontSize--small u-color--dustyGray u-marginBottom--small u-hidden--mobileTablet">&copy; 2018 <a> &nbsp;Replicated Inc.</a></div>
    <div class="u-fontSize--small u-color--dustyGray u-hidden--mobileTablet">All Rights Reserved</div>
  </div>
</div><div class="footer-list-item">
  <div class="footer-item">
    <p class="u-fontWeight--medium u-color--tuna">Company</p>
    <ul>
      <li><a class="u-color--dustyGray u-textDecoration--underlineOnHover" href="https://www.replicated.com">About Replicated</a></li>
      <li><a class="u-color--dustyGray u-textDecoration--underlineOnHover" href="https://blog.replicated.com">Replicated Blog</a></li>
      <li><a class="u-color--dustyGray u-textDecoration--underlineOnHover">RSS Feed</a></li>
    </ul>
  </div>
</div><div class="footer-list-item">
  <div class="footer-item">
    <p class="u-fontWeight--medium u-color--tuna">Contact</p>
    <ul>
      <li><a class="u-color--dustyGray u-textDecoration--underlineOnHover" href="https://twitter.com/replicatedhq">Twitter</a></li>
      <li><a class="u-color--dustyGray u-textDecoration--underlineOnHover" href="mailto:contact@replicated.com">Email</a></li>
    </ul>
  </div>
</div><div class="footer-list-item">
  <div class="footer-item">
    <p class="u-fontWeight--medium u-color--tuna">More</p>
    <ul>
      <li><a class="u-color--dustyGray u-textDecoration--underlineOnHover" href="https://github.com/replicatedhq">GitHub</a></li>
      <li><a class="u-color--dustyGray u-textDecoration--underlineOnHover" href="https://www.enterpriseready.io">EnterpriseReady.io</a></li>
    </ul>
  </div>
</div>

        </div>
			</div>
		</div>
	</footer>

	
      <script>
        (function(i,s,o,g,r,a,m){
          i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||
          []).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;
          m.parentNode.insertBefore(a,m)
        })(window, document,
          'script', '//www.google-analytics.com/analytics.js', 'ga');
         
        ga('create', 'UA-61084834-1', 'auto');
        ga('set', 'anonymizeIp', true);
        ga('send', 'pageview');
         
        var buttons = document.querySelectorAll('a');
        Array.prototype.map.call(buttons, function(item) {
          if (item.host != document.location.host) {
            item.addEventListener('click', function() {
              var action = item.getAttribute('data-action') || 'follow';
              ga('send', 'event', 'outbound', action, item.href);
            });
          }
        });
      </script>
    
 
	<script src="https://cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>
	<script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/2.4.1/lodash.min.js"></script>

  
  

    
    
      
        <script src="/js/staging/autocomplete-search.js"></script>
      
      
    

  

	<script src="/js/prism.js"></script>
	<script>
		function toggleMenuClass() {
			this.classList.toggle("open");
			document.getElementById("headerLinks").classList.toggle("show");
		}
		const toggleMenu = document.getElementById("toggleNav");
		if (toggleMenu) {
			toggleMenu.addEventListener("click", toggleMenuClass);
		};
	</script>

  <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
  <script src="/js/featherlight.min.js"></script>
	<script>
		$('#desktop-search').on("click", function () {
      if(!$('#search-field').is(":visible")) {
        $('#search-field').show("slide", { direction: "right" }, 300);
        $('#search-field').focus();
      }
		});

    $('#search-field').on("blur", function () {
      $(this).hide("slide", { direction: "right" }, 300);
    });

    $('#dropdown-link').on('click', function() {
      $('#scheduler-dropdown-menu').toggle();
    });

    $(document).on('click', function(e) {
      var target = e.target;
      if(target.id !== "dropdown-link") {
        $('#scheduler-dropdown-menu').hide();
      }
    });

    $('.tooltip').tooltip({
      position: {  my: "center bottom-10", at: "center top"  },
      show: { effect: "fade", duration: 200 },
      hide: { effect: "fade", duration: 200 }
    });

    $('#navItem--docs').on("mouseenter", function () {
      $('.guides-sub-nav').show();
    });
    $('#navItem--modern-on-prem').on("mouseenter", function () {
      $('.guides-sub-nav').hide();
    });
    
    $('.home-nav').on("mouseleave", function () {
      $('.guides-sub-nav').hide();
    });
    $('.other-nav').on("mouseleave", function (e) {
      $('.guides-sub-nav').hide();
    });
  </script>
  <script>
    $('a[href*="#"]')
      
      .not('[href="#"]')
      .not('[href="#0"]')
      .click(function(event) {
        
        if (
          location.pathname.replace(/^\//, '') == this.pathname.replace(/^\//, '') 
          && 
          location.hostname == this.hostname
        ) {
          
          var target = $(this.hash);
          target = target.length ? target : $('[name=' + this.hash.slice(1) + ']');
          
          if (target.length) {
            
            event.preventDefault();
            $('html, body').animate({
              scrollTop: target.offset().top
            }, 400);
          }
        }
      });
  </script>
</body>
</html>
