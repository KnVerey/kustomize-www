<!DOCTYPE html>
<html lang="en-us">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Replicated YAML Schema</title>
	
	<meta name="author" content="Replicated">
	<link rel="apple-touch-icon-precomposed" sizes="57x57" href="/favicons/apple-touch-icon-57x57.png" />
	<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/favicons/apple-touch-icon-114x114.png" />
	<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/favicons/apple-touch-icon-72x72.png" />
	<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/favicons/apple-touch-icon-144x144.png" />
	<link rel="apple-touch-icon-precomposed" sizes="60x60" href="/favicons/apple-touch-icon-60x60.png" />
	<link rel="apple-touch-icon-precomposed" sizes="120x120" href="/favicons/apple-touch-icon-120x120.png" />
	<link rel="apple-touch-icon-precomposed" sizes="76x76" href="/favicons/apple-touch-icon-76x76.png" />
	<link rel="apple-touch-icon-precomposed" sizes="152x152" href="/favicons/apple-touch-icon-152x152.png" />
	<link rel="icon" type="image/png" href="/favicons/favicon-196x196.png" sizes="196x196" />
	<link rel="icon" type="image/png" href="/favicons/favicon-96x96.png" sizes="96x96" />
	<link rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32" />
	<link rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16" />
	<link rel="icon" type="image/png" href="/favicons/favicon-128.png" sizes="128x128" />
	<meta name="application-name" content="&nbsp;"/>
	<meta name="msapplication-TileColor" content="#FFFFFF" />
	<meta name="msapplication-TileImage" content="mstile-144x144.png" />
	<meta name="msapplication-square70x70logo" content="mstile-70x70.png" />
	<meta name="msapplication-square150x150logo" content="mstile-150x150.png" />
	<meta name="msapplication-wide310x150logo" content="mstile-310x150.png" />
	<meta name="msapplication-square310x310logo" content="mstile-310x310.png" />
	<link rel="stylesheet" href='/css/style-7a29e25363.css'>
	<link rel="stylesheet" href='/css/featherlight.min.css'>
	<link rel="stylesheet" href="/css/highlight/prism.css">
	
	<meta name="generator" content="Hugo 0.26" />
	
	<script src="https://cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>
	<script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.min.js"></script>
</head>
<body>
	<header>
		<nav>
			<div class="container u-position--relative">
				<a href="/search" id="mobile-search" class="searchIcon--white"></a>
				<span id="toggleNav" class="u-show--mobileTablet icon u-cursor--pointer"></span>
				<ul class="nav-list paddingContainer u-position--relative">
					<li>
						<a class="logo-link" href="/">
							<img width="109" src="/images/logo@2x.png"/>
						</a>
					</li>
					<li>
						<ul id="headerLinks" class="header-links">
							
								<li><a href="/guides/">Guides</a></li>
							
								<li><a href="/docs/native/getting-started/overview/">Documentation</a></li>
							
								<li><a href="/api/">API Reference</a></li>
							
								<li><a href="https://help.replicated.com/community/">Community</a></li>
							
							<li>
								<div class="search-form">
									<input type="text" placeholder="What are you looking for?" id="search-field" style="display: none;" />
									<span class="searchIcon--white" id="desktop-search"></span>
								</div>
							</li>
							<li class="log-in-link">
								<span><a href="https://vendor.replicated.com" target="_blank">Log in</a></span>
								
							</li>
						</ul>
					</li>
				</ul>
			</div>
		</nav>
	</header>

<main>
    <article class="single">
            
                <div class="u-gradient--purpleToPink main-section header flex-column flex1 justifyContent--center">
            
            <div class="container">
                <div class="paddingContainer">
                    <div class="flex flex-auto u-width--full justifyContent--spaceBetween alignItems--center u-marginTop--more">
                        <div class="u-width--full u-marginRight--more">
                            <h1 class="u-color--white u-fontWeight--bold u-fontSize--header u-textAlign--left">Replicated YAML Schema</h1>
                            <p class="u-fontSize--normal u-fontWeight--medium u-color--white u-marginTop--normal u-lineHeight--normal">Generated documentation for the Replicated YAML spec.</p>
                        </div>
                        <div class="flex-auto u-hidden--mobileTablet">
                            <span class="icon u- u-marginRight--normal"></span>
                        </div>
                    </div>
                    
                </div>
            </div>
        </div>
        <div class="container">
            <div class="paddingContainer">
                <div class="u-flexTabletReflow flex1">
                    <div class="flex-auto sidebar-wrapper">
                        <div class="sidebar">
                            <div>
                                
                                    <h3 class="u-fontWeight--medium u-borderBottom--gray u-paddingBottom--normal u-marginBottom--normal">Reference</h3>
                                    <ul>
                                    
                                    
                                        
                                            
                                                
                                                    <li><a href="/api/vendor-api/" class="u-color--curiousBlue">Vendor API</a></li>
                                                
                                            
                                        
                                            
                                                
                                                    <li><a href="/api/integration-api/" class="u-color--curiousBlue">Integration API</a></li>
                                                
                                            
                                        
                                            
                                                
                                                    <li class="blue"><a href="/api/yaml/">Replicated YAML Schema</a></li>
                                                
                                            
                                        
                                            
                                        
                                            
                                                
                                                    <li><a href="/api/replicatedctl/" class="u-color--curiousBlue">replicatedctl Reference</a></li>
                                                
                                            
                                        
                                            
                                                
                                                    <li><a href="/api/replicated-vendor-cli/" class="u-color--curiousBlue">Vendor CLI Reference</a></li>
                                                
                                            
                                        
                                            
                                        
                                            
                                        
                                            
                                        
                                    
                                    </ul>
                                
                            </div>
                        </div>
                    </div>
                    <div class="flex1 page-content-wrapper">
                        <div class="page-content">
                            

<h1 id="schema">Schema</h1>

<p>The schema is published as a <a href="http://json-schema.org/documentation.html">JSONSchema V4</a> document in the <a href="https://github.com/replicatedhq/replicated-lint/blob/master/src/schemas/parsed.ts">Replicated Lint Repository</a></p>

<p>The canonical source for all available Replicated YAML options is available at <a href="https://github.com/replicatedhq/libyaml">github.com/replicatedhq/libyaml</a>. This is a great reference to look up supported options and learn how different sections fit together.</p>

<h1 id="additional-linter-rules">Additional Linter Rules</h1>

<p>The following list documents rules that will be applied by the <a href="https://vendor.replicated.com/releases">Replicated release editor</a> and the <a href="https://npmjs.com/package/replicated-lint">replicated-lint cli</a>.</p>

<!--

The rest of this page is autogenerated! Changes should be made in https://github.com/replicatedhq/replicated-lint, see the README in that repo for instructions on how to update this document

-->

<h2 id="prop-admincommand-component-exists"><code>prop-admincommand-component-exists</code></h2>

<p>Admin commands must reference an existing component and container</p>

<h4 id="examples">Examples:</h4>

<p><em>Incorrect</em>: admin command but no containers</p>

<pre><code class="language-yaml">---
admin_commands:
- alias: aliasecho
  command: [echo]
  component: DB
  container: redis

</code></pre>

<p><em>Incorrect</em>: Admin command but no matching containers</p>

<pre><code class="language-yaml">---
admin_commands:
- alias: aliasecho
  command: [echo]
  component: DB
  container: redis

components:
- name: DB
  containers:
  - image_name: postgres

</code></pre>

<p><em>Incorrect</em>: Old style admin command but no matching containers</p>

<pre><code class="language-yaml">---
admin_commands:
- alias: aliasecho
  command: [echo]
  component: DB
  image:
    image_name: redis

components:
- name: DB
  containers:
  - image_name: postgres

</code></pre>

<p><em>Incorrect</em>: Admin multi command but no matching containers</p>

<pre><code class="language-yaml">---
admin_commands:
- alias: aliasecho
  command: [echo]
  replicated:
    component: DB
    container: redis
  swarm:
    service: myapp
  kubernetes:
    selector:
      tier: backend
      app: mine
    container: node

components:
- name: DB
  containers:
  - image_name: postgres

</code></pre>

<p><em>Incorrect</em>: Admin source multi command but no matching containers</p>

<pre><code class="language-yaml">---
admin_commands:
- alias: aliasecho
  command: [echo]
  source:
    replicated:
      component: DB
      container: redis
    swarm:
      service: myapp
    kubernetes:
      selector:
        tier: backend
        app: mine
      container: node

components:
- name: DB
  containers:
  - image_name: postgres

</code></pre>

<p><em>Correct</em>: No commands, no containers</p>

<pre><code class="language-yaml">---
admin_commands: []
components: []

</code></pre>

<p><em>Correct</em>: Admin command with matching container</p>

<pre><code class="language-yaml">---
admin_commands:
- alias: aliasecho
  command: [echo]
  component: DB
  container: redis

components:
- name: DB
  containers:
  - image_name: redis

</code></pre>

<p><em>Correct</em>: Admin command has <code>service</code>, so this is probably a swarm command and thus is not tested here</p>

<pre><code class="language-yaml">---
admin_commands:
- alias: aliasecho
  command: [echo]
  service: database

</code></pre>

<p><em>Correct</em>: Admin command has <code>selector</code>, so this is probably a kubernetes command and thus is not tested here</p>

<pre><code class="language-yaml">---
admin_commands:
- alias: aliasecho
  command: [echo]
  selector:
    tier: database

</code></pre>

<p><em>Correct</em>: Old style admin command with a matching container</p>

<pre><code class="language-yaml">---
admin_commands:
- alias: aliasecho
  command: [echo]
  component: DB
  image:
    image_name: redis

components:
- name: DB
  containers:
  - image_name: redis

</code></pre>

<p><em>Correct</em>: Admin multi command with matching container</p>

<pre><code class="language-yaml">---
admin_commands:
- alias: aliasecho
  command: [echo]
  replicated:
    component: DB
    container: redis
  swarm:
    service: myapp
  kubernetes:
    selector:
      tier: backend
      app: mine
    container: node

components:
- name: DB
  containers:
  - image_name: redis

</code></pre>

<p><em>Correct</em>: Admin source multi command with matching container</p>

<pre><code class="language-yaml">---
admin_commands:
- alias: aliasecho
  command: [echo]
  source:
    replicated:
      component: DB
      container: redis
    swarm:
      service: myapp
    kubernetes:
      selector:
        tier: backend
        app: mine
      container: node

components:
- name: DB
  containers:
  - image_name: redis

</code></pre>

<h2 id="prop-admincommand-shellalias-valid"><code>prop-admincommand-shellalias-valid</code></h2>

<p>An admin command&rsquo;s <code>alias</code> must be a valid shell alias</p>

<h4 id="examples-1">Examples:</h4>

<p><em>Incorrect</em>: admin command&rsquo;s <code>alias</code> contains invalid character <code>&amp;</code></p>

<pre><code class="language-yaml">---
admin_commands:
- alias: exec&amp;echo
  command: [&quot;echo&quot;]
  run_type: exec
  component: DB
  container: redis

</code></pre>

<p><em>Incorrect</em>: admin command&rsquo;s <code>alias</code> contains invalid character <code>*</code></p>

<pre><code class="language-yaml">---
admin_commands:
- alias: exec**echo
  command: [&quot;echo&quot;]
  run_type: exec
  component: DB
  container: redis

</code></pre>

<p><em>Correct</em>: valid <code>alias</code></p>

<pre><code class="language-yaml">---
admin_commands:
- alias: redis_echo-command--
  command: [&quot;echo&quot;]
  run_type: exec
  component: DB
  container: redis

</code></pre>

<h2 id="prop-admincommand-requirements-present"><code>prop-admincommand-requirements-present</code></h2>

<p>Basic requirements for an admin command must be present - an <code>alias</code> and a <code>command</code></p>

<h4 id="examples-2">Examples:</h4>

<p><em>Incorrect</em>: <code>alias</code> missing</p>

<pre><code class="language-yaml">---
admin_commands:
- command: [echo]
  component: DB
  container: redis

</code></pre>

<p><em>Incorrect</em>: <code>command</code> missing</p>

<pre><code class="language-yaml">---
admin_commands:
- alias: echo
  component: DB
  container: redis

</code></pre>

<p><em>Correct</em>: Valid new-style replicated command</p>

<pre><code class="language-yaml">---
admin_commands:
- alias: echo
  command: [echo]
  component: DB
  container: redis

</code></pre>

<h2 id="prop-admincommand-old-style-requirements-present"><code>prop-admincommand-old-style-requirements-present</code></h2>

<p><code>image_name</code> must be present within <code>admin_commands.image</code> and <code>admin_commands.component</code> must exist if <code>admin_commands.image</code> is present</p>

<h4 id="examples-3">Examples:</h4>

<p><em>Incorrect</em>: <code>image</code> is present, but not <code>image.image_name</code></p>

<pre><code class="language-yaml">---
admin_commands:
- alias: echo
  command: [echo]
  component: alpha
  image: {}

</code></pre>

<p><em>Incorrect</em>: <code>image</code> is present, but not <code>component</code></p>

<pre><code class="language-yaml">---
admin_commands:
- alias: echo
  command: [echo]
  image:
    image_name: redis

</code></pre>

<p><em>Correct</em>: Valid old-style (depreciated) command</p>

<pre><code class="language-yaml">---
admin_commands:
- alias: echo
  command: [echo]
  component: DB
  image:
    image_name: redis

</code></pre>

<h2 id="prop-admincommand-multi-requirements-present"><code>prop-admincommand-multi-requirements-present</code></h2>

<p><code>container</code> and <code>component</code> must both be present within <code>admin_commands.replicated</code> if it is present</p>

<h4 id="examples-4">Examples:</h4>

<p><em>Incorrect</em>: <code>replicated</code> is present, but not <code>replicated.component</code></p>

<pre><code class="language-yaml">---
admin_commands:
- alias: echo
  command: [echo]
  replicated:
    container: redis
  swarm:
    service: myapp

</code></pre>

<p><em>Incorrect</em>: <code>replicated</code> is present, but not <code>replicated.container</code></p>

<pre><code class="language-yaml">---
admin_commands:
- alias: echo
  command: [echo]
  replicated:
    component: DB
  swarm:
    service: myapp

</code></pre>

<p><em>Correct</em>: Valid admin multi command</p>

<pre><code class="language-yaml">---
admin_commands:
- alias: echo
  command: [echo]
  replicated:
    component: DB
    container: redis
  swarm:
    service: myapp

</code></pre>

<h2 id="prop-admincommand-verbose-requirements-present"><code>prop-admincommand-verbose-requirements-present</code></h2>

<p><code>container</code> and <code>component</code> must both be present within <code>admin_commands.source.replicated</code> if it is present</p>

<h4 id="examples-5">Examples:</h4>

<p><em>Incorrect</em>: <code>source.replicated</code> is present, but not <code>source.replicated.component</code></p>

<pre><code class="language-yaml">---
admin_commands:
- alias: echo
  command: [echo]
  source:
    replicated:
      container: redis
    swarm:
      service: myapp

</code></pre>

<p><em>Incorrect</em>: <code>source.replicated</code> is present, but not <code>source.replicated.container</code></p>

<pre><code class="language-yaml">---
admin_commands:
- alias: echo
  command: [echo]
  source:
    replicated:
      component: redis
    swarm:
      service: myapp

</code></pre>

<p><em>Correct</em>: Valid verbose admin multi command</p>

<pre><code class="language-yaml">---
admin_commands:
- alias: echo
  command: [echo]
  source:
    replicated:
      component: DB
      container: redis
    swarm:
      service: myapp

</code></pre>

<h2 id="prop-admincommand-one-present"><code>prop-admincommand-one-present</code></h2>

<p>Admin command must use one of several methods to identify the relevant container</p>

<h4 id="examples-6">Examples:</h4>

<p><em>Incorrect</em>: None of the options are present</p>

<pre><code class="language-yaml">---
admin_commands:
- alias: echo
  command: [echo]

</code></pre>

<p><em>Correct</em>: Valid new-style replicated command</p>

<pre><code class="language-yaml">---
admin_commands:
- alias: echo
  command: [echo]
  component: DB
  container: redis

</code></pre>

<p><em>Correct</em>: Valid old-style (depreciated) admin command</p>

<pre><code class="language-yaml">---
admin_commands:
- alias: echo
  command: [echo]
  component: DB
  image:
    image_name: redis

</code></pre>

<p><em>Correct</em>: Valid admin multi command</p>

<pre><code class="language-yaml">---
admin_commands:
- alias: echo
  command: [echo]
  replicated:
    component: DB
    container: redis
  swarm:
    service: myapp

</code></pre>

<p><em>Correct</em>: Valid verbose admin multi command</p>

<pre><code class="language-yaml">---
admin_commands:
- alias: echo
  command: [echo]
  source:
    replicated:
      component: DB
      container: redis
    swarm:
      service: myapp

</code></pre>

<h2 id="prop-component-cluster-count"><code>prop-component-cluster-count</code></h2>

<p>If <code>cluster_host_count.min</code> and <code>cluster_host_count.max</code> are both set to 1, then it will be impossible to run multiple instances of this container anywhere in the cluster.</p>

<h4 id="examples-7">Examples:</h4>

<p><em>Incorrect</em>: <code>cluster_host_count.min</code> and <code>cluster_host_count.max</code> are both set to 1</p>

<pre><code class="language-yaml">---
components:
- name: DB
  cluster: true
  tags:
  - db
  cluster_host_count:
    min: 1
    max: 1
  containers:
  - source: public
    image_name: redis
    version: latest

</code></pre>

<p><em>Correct</em>: <code>cluster_host_count.min</code> and <code>cluster_host_count.max</code> is a range</p>

<pre><code class="language-yaml">---
components:
- name: DB
  cluster: true
  tags:
  - db
  cluster_host_count:
    min: 1
    max: 3
  containers:
  - source: public
    image_name: redis
    version: latest

</code></pre>

<p><em>Correct</em>: <code>cluster_host_count.min</code> and <code>cluster_host_count.max</code> are unset</p>

<pre><code class="language-yaml">---
components:
- name: DB
  cluster: true
  tags:
  - db
  containers:
  - source: public
    image_name: redis
    version: latest

</code></pre>

<h2 id="prop-component-cluster-strategy"><code>prop-component-cluster-strategy</code></h2>

<p>A component&rsquo;s cluster <code>strategy</code> must be either <code>random</code> or <code>autoscale</code></p>

<h4 id="examples-8">Examples:</h4>

<p><em>Incorrect</em>: strategy is set to <code>all-on-one-host</code>, which is not a supported clustering strategy</p>

<pre><code class="language-yaml">---
components:
- name: DB
  cluster: true
  tags:
  - db
  cluster_host_count:
    strategy: all-on-one-host
  containers:
  - source: public
    image_name: redis
    version: latest

</code></pre>

<p><em>Correct</em>: <code>strategy</code> is set to <code>autoscale</code>, a supported option</p>

<pre><code class="language-yaml">---
components:
- name: DB
  cluster: true
  tags:
  - db
  cluster_host_count:
    strategy: autoscale
  containers:
  - source: public
    image_name: redis
    version: latest

</code></pre>

<p><em>Correct</em>: <code>strategy</code> is unset</p>

<pre><code class="language-yaml">---
components:
- name: DB
  cluster: true
  tags:
  - db
  cluster_host_count: {}
  containers:
  - source: public
    image_name: redis
    version: latest

</code></pre>

<h2 id="prop-component-volume-path-absolute"><code>prop-component-volume-path-absolute</code></h2>

<p>Component volume&rsquo;s <code>host_path</code> must be absolute</p>

<h4 id="examples-9">Examples:</h4>

<p><em>Incorrect</em>: host path is not absolute</p>

<pre><code class="language-yaml">---
components:
- name: DB
  host_volumes:
    - host_path: ubuntu/workspace
  containers:
  - source: public
    image_name: mongo

</code></pre>

<p><em>Correct</em>: host path is absolute</p>

<pre><code class="language-yaml">---
components:
- name: DB
  host_volumes:
    - host_path: /home/ubuntu/workspace
  containers:
  - source: public
    image_name: mongo

</code></pre>

<p><em>Correct</em>: host path is a templated field</p>

<pre><code class="language-yaml">---
components:
- name: DB
  host_volumes:
    - host_path: '{{repl ConfigOption &quot;custom_volume_path&quot; }}'
  containers:
  - source: public
    image_name: mongo

</code></pre>

<h2 id="prop-component-cluster-boolstring"><code>prop-component-cluster-boolstring</code></h2>

<p><code>component.cluster</code> must be a template or a boolean</p>

<h4 id="examples-10">Examples:</h4>

<p><em>Incorrect</em>: <code>component.cluster</code> is not a boolean or template</p>

<pre><code class="language-yaml">---
components:
- name: DB
  cluster: &quot;yes please&quot;

</code></pre>

<p><em>Correct</em>: <code>component.cluster</code> absent</p>

<pre><code class="language-yaml">---
components:
- name: DB

</code></pre>

<p><em>Correct</em>: <code>component.cluster</code> boolean</p>

<pre><code class="language-yaml">---
components:
- name: DB
  cluster: true

</code></pre>

<p><em>Correct</em>: <code>component.cluster</code> string boolean</p>

<pre><code class="language-yaml">---
components:
- name: DB
  cluster: &quot;false&quot;

</code></pre>

<p><em>Correct</em>: <code>component.cluster</code> == 0</p>

<pre><code class="language-yaml">---
components:
- name: DB
  cluster: &quot;0&quot;

</code></pre>

<p><em>Correct</em>: <code>component.cluster</code> == 1</p>

<pre><code class="language-yaml">---
components:
- name: DB
  cluster: &quot;1&quot;

</code></pre>

<p><em>Correct</em>: <code>component.cluster</code> template</p>

<pre><code class="language-yaml">---
components:
- name: DB
  cluster: '{{repl ConfigOption &quot;use_cluster&quot;}}'

</code></pre>

<h2 id="prop-port-min-api-version"><code>prop-port-min-api-version</code></h2>

<p>The minimum Replicated API version to use container.ports.public_port is 2.8.0</p>

<h4 id="examples-11">Examples:</h4>

<p><em>Incorrect</em>: public_port used and replicated api version set to 2.7.0</p>

<pre><code class="language-yaml">---
replicated_api_version: &quot;2.7.0&quot;
components:
- name: DB
  containers:
    - source: public
      ports:
        - public_port: &quot;10000&quot;


</code></pre>

<p><em>Incorrect</em>: public_port used and replicated api version set to 1.8.5</p>

<pre><code class="language-yaml">---
replicated_api_version: &quot;1.8.5&quot;
components:
- name: DB
  containers:
    - source: public
      ports:
        - public_port: &quot;10000&quot;


</code></pre>

<p><em>Correct</em>: public_port used and replicated api version set to 2.8.0</p>

<pre><code class="language-yaml">---
replicated_api_version: &quot;2.8.0&quot;
components:
- name: DB
  containers:
    - source: public
      ports:
        - public_port: &quot;10000&quot;


</code></pre>

<p><em>Correct</em>: public_port used and replicated api version set to 2.8.1</p>

<pre><code class="language-yaml">---
replicated_api_version: &quot;2.8.1&quot;
components:
- name: DB
  containers:
    - source: public
      ports:
        - public_port: &quot;10000&quot;


</code></pre>

<h2 id="prop-component-container-host-count-min-uint"><code>prop-component-container-host-count-min-uint</code></h2>

<p>Container&rsquo;s cluster_host_count property <code>min</code> must be an unsigned integer</p>

<h4 id="examples-12">Examples:</h4>

<p><em>Incorrect</em>: cluster_host_count.min must be an unsigned integer, and this parses as a negative integer</p>

<pre><code class="language-yaml">---
components:
- cluster_host_count:
    min: &quot;-2&quot;

</code></pre>

<p><em>Correct</em>: cluster_host_count.min is an unsigned integer</p>

<pre><code class="language-yaml">---
components:
- cluster_host_count:
    min: 3

</code></pre>

<h2 id="prop-component-container-host-count-max-uint"><code>prop-component-container-host-count-max-uint</code></h2>

<p>Container&rsquo;s cluster_host_count property <code>max</code> must be an unsigned integer</p>

<h4 id="examples-13">Examples:</h4>

<p><em>Incorrect</em>: cluster_host_count.max must be an unsigned integer, and this is a negative integer</p>

<pre><code class="language-yaml">---
components:
- cluster_host_count:
    max: -10

</code></pre>

<p><em>Correct</em>: cluster_host_count.max is an unsigned integer</p>

<pre><code class="language-yaml">---
components:
- cluster_host_count:
    max: 10

</code></pre>

<h2 id="prop-component-container-host-count-healthy-uint"><code>prop-component-container-host-count-healthy-uint</code></h2>

<p>Container&rsquo;s cluster_host_count property <code>threshold_healthy</code> must be an unsigned integer</p>

<h4 id="examples-14">Examples:</h4>

<p><em>Incorrect</em>: cluster_host_count.threshold_healthy must be an unsigned integer, and this is a string</p>

<pre><code class="language-yaml">---
components:
- cluster_host_count:
    threshold_healthy: &quot;all&quot;

</code></pre>

<p><em>Correct</em>: cluster_host_count.threshold_healthy is an unsigned integer</p>

<pre><code class="language-yaml">---
components:
- cluster_host_count:
    threshold_healthy: 5

</code></pre>

<h2 id="prop-component-container-host-count-degraded-uint"><code>prop-component-container-host-count-degraded-uint</code></h2>

<p>Container&rsquo;s cluster_host_count property <code>threshold_degraded</code> must be an unsigned integer</p>

<h4 id="examples-15">Examples:</h4>

<p><em>Incorrect</em>: cluster_host_count.threshold_degraded must be an unsigned integer, and this parses as a float</p>

<pre><code class="language-yaml">---
components:
- cluster_host_count:
    threshold_degraded: &quot;2.5&quot;

</code></pre>

<p><em>Correct</em>: cluster_host_count.threshold_degraded is an unsigned integer</p>

<pre><code class="language-yaml">---
components:
- cluster_host_count:
    threshold_degraded: 2

</code></pre>

<h2 id="prop-cluster-size-public-port"><code>prop-cluster-size-public-port</code></h2>

<p>If using container.ports.public_port, cluster must be disabled or cluster size must be 1</p>

<h4 id="examples-16">Examples:</h4>

<p><em>Incorrect</em>: public_port used and cluster_instance_count.max is not 1</p>

<pre><code class="language-yaml">---
components:
- name: DB
  containers:
  - cluster_instance_count:
      max: 2
    cluster: &quot;true&quot;
    ports:
    - public_port: &quot;10000&quot;

</code></pre>

<p><em>Incorrect</em>: public_port used and cluster_instance_count.max is not 1</p>

<pre><code class="language-yaml">---
components:
- name: DB
  containers:
  - cluster_instance_count:
      max: &quot;0&quot;
    cluster: true
    ports:
    - public_port: &quot;10000&quot;

</code></pre>

<p><em>Correct</em>: public_port used and cluster_instance_count.max is 1</p>

<pre><code class="language-yaml">---
components:
- name: DB
  containers:
  - cluster_instance_count:
      max: 1
    cluster: true
    ports:
    - public_port: &quot;10000&quot;

</code></pre>

<p><em>Correct</em>: public_port used and cluster_instance_count.initial is 1</p>

<pre><code class="language-yaml">---
components:
- name: DB
  containers:
  - cluster_instance_count:
      initial: &quot;1&quot;
    cluster: true
    ports:
    - public_port: &quot;10000&quot;

</code></pre>

<p><em>Correct</em>: public_port used and cluster is set to false</p>

<pre><code class="language-yaml">---
components:
- name: DB
  containers:
  - cluster: false
    ports:
    - public_port: &quot;10000&quot;

</code></pre>

<p><em>Correct</em>: public_port used and cluster is not set</p>

<pre><code class="language-yaml">---
components:
- name: DB
  containers:
  - ports:
    - public_port: &quot;10000&quot;

</code></pre>

<h2 id="tmpl-configoption-exists"><code>tmpl-configoption-exists</code></h2>

<p>Options referenced with <code>{{repl ConfigOption }}</code> must be present in the <code>config</code> section</p>

<h4 id="examples-17">Examples:</h4>

<p><em>Incorrect</em>: Config Option <code>not_existent</code> is not defined in <code>config</code> section</p>

<pre><code class="language-yaml">---
config:
- name: settings
  title: Settings
  items:
  - name: hostname
    title: Hostname
    type: text
    default: &quot;&quot;

components:
- name: App
  cluster: false
  containers:
  - image_name: wlaoh/counter
    name: '{{repl ConfigOption &quot;not_existent&quot; }}'

</code></pre>

<p><em>Correct</em>: All uses of <code>repl ConfigOption</code> reference defined Config Options</p>

<pre><code class="language-yaml">---
config:
- name: hostname
  title: Hostname
  description: Ensure this domain name is routable on your network.
  items:
  - name: hostname
    title: Hostname
    type: text
    recommended: false
    default: &quot;&quot;
    value_cmd:
      name: host_ip
      value_at: 0
    when: &quot;&quot;
    affix: &quot;&quot;
    required: false
    items: []
  - name: host_count
    title: Host Count
    type: select_many
    items:
      - name: one_host
        default: &quot;0&quot;
      - name: two_hosts
        default: &quot;0&quot;

components:
- name: App
  cluster: false
  containers:
  - source: public
    image_name: wlaoh/counter
    version: signed
    cmd: '{{ repl ConfigOption &quot;one_host&quot; }}'
    name: '{{repl ConfigOption &quot;hostname&quot; }}'

</code></pre>

<h2 id="prop-configitem-type-password"><code>prop-configitem-type-password</code></h2>

<p>It looks like this Config Option may contain sensitive data &ndash; consider setting <code>type: password</code></p>

<h4 id="examples-18">Examples:</h4>

<p><em>Incorrect</em>: Config Option with name <code>database_password</code> should have <code>type: password</code></p>

<pre><code class="language-yaml">---
config:
- name: database
  title: Database
  items:
  - name: database_password
    title: Password
    type: text
    default: &quot;&quot;

</code></pre>

<p><em>Correct</em>: Config Option with name <code>database_password</code> correctly has <code>type: password</code></p>

<pre><code class="language-yaml">---
config:
- name: database
  title: Database
  items:
  - name: database_password
    title: Password
    type: password
    default: &quot;&quot;

</code></pre>

<h2 id="tmpl-configoption-not-circular"><code>tmpl-configoption-not-circular</code></h2>

<p>A Config Options&rsquo;s fields may not reference the Config Option they describe</p>

<h4 id="examples-19">Examples:</h4>

<p><em>Incorrect</em>: Config Option <code>circular</code> references <code>{{repl ConfigOption &quot;circular&quot; }}</code> in it&rsquo;s <code>when</code> field</p>

<pre><code class="language-yaml">---
config:
- name: hostname
  title: Hostname
  items:
  - name: circular
    title: A Circle
    type: text
    when: '{{ repl ConfigOptionEquals &quot;circular&quot; &quot;I heard you liked circles&quot; }}'

</code></pre>

<p><em>Correct</em>: No config options reference themselves</p>

<pre><code class="language-yaml">---
config:
- name: hostname
  title: Hostname
  items:
  - name: left
    title: Left
    type: text
    when: '{{ repl ConfigOptionEquals &quot;right&quot; &quot;right option&quot; }}'
  - name: right
    title: Right
    type: text
    when: '{{ repl ConfigOptionEquals &quot;left&quot; &quot;left option&quot; }}'

</code></pre>

<h2 id="prop-configitem-type-valid"><code>prop-configitem-type-valid</code></h2>

<p>A Config Item must have a valid type</p>

<h4 id="examples-20">Examples:</h4>

<p><em>Incorrect</em>: Config Option type <code>image_upload</code> is not valid</p>

<pre><code class="language-yaml">---
config:
- name: images
  title: Images
  items:
  - name: cat_picture
    title: Cat Picture
    type: image_upload
    default: &quot;&quot;

</code></pre>

<p><em>Correct</em>: All config options have valid types</p>

<pre><code class="language-yaml">---
config:
- name: database
  title: Database
  items:
  - name: database_use_ssl
    title: Use SSL
    type: bool
    default: &quot;&quot;
  - name: database_host
    title: Host
    type: text
    default: &quot;&quot;
  - name: database_ssl_cert
    title: SSL Certificate
    type: textarea
    default: &quot;&quot;

</code></pre>

<h2 id="prop-configitem-when-valid"><code>prop-configitem-when-valid</code></h2>

<p>A Config Item&rsquo;s when clause must be either empty, a template, a boolean literal, or reference a valid config option with <code>=</code> or <code>!=</code></p>

<h4 id="examples-21">Examples:</h4>

<p><em>Incorrect</em>: Config Option <code>when</code> field references non-existent option <code>ssl_is_good</code></p>

<pre><code class="language-yaml">---
config:
- name: database
  title: Database
  items:
  - name: database_use_ssl
    title: Use SSL
    type: bool
    default: &quot;&quot;
  - name: database_ssl_cert
    title: SSL Certificate
    type: textarea
    default: &quot;&quot;
    when: ssl_is_good=1

</code></pre>

<p><em>Incorrect</em>: Config Option <code>when</code> field references non-existent option <code>ssl_is_bad</code></p>

<pre><code class="language-yaml">---
config:
- name: database
  title: Database
  items:
  - name: database_use_ssl
    title: Use SSL
    type: bool
    default: &quot;&quot;
  - name: database_ssl_cert
    title: SSL Certificate
    type: textarea
    default: &quot;&quot;
    when: ssl_is_bad!=1

</code></pre>

<p><em>Incorrect</em>: Config Section <code>when</code> uses unsupported <code>&lt;</code> operator on option <code>auth_source</code></p>

<pre><code class="language-yaml">---
config:
- name: auth
  title: Authentication
  description: Where will user accounts be provisioned
  items:
  - name: auth_source
    default: auth_type_internal
    type: select_one
    items:
    - name: auth_type_internal
      title: Built In
    - name: auth_type_ldap
      title: LDAP
    - name: auth_type_ldap_advanced
      title: LDAP Advanced
- name: ldap_settings
  title: LDAP Server Settings
  when: auth_source&gt;auth_type_ldap
  items: []

</code></pre>

<p><em>Correct</em>: All config options have valid <code>when</code> clauses</p>

<pre><code class="language-yaml">---
config:
- name: database
  title: Database
  items:
  - name: database_use_ssl
    title: Use SSL
    type: bool
    default: &quot;&quot;
    when: &quot;&quot;

  - name: database_use_ssl_2
    title: Use SSL
    type: bool
    default: &quot;&quot;
    when: &quot;&quot;

  - name: database_use_udp
    title: Use UDP
    type: boolean
    default: &quot;&quot;
    when: false

  - name: database_use_tcp
    title: Use UDP
    type: boolean
    default: &quot;&quot;
    when: true

  - name: database_use_index
    title: Use Index?
    type: boolean
    default: &quot;&quot;
    when: &quot;false&quot;

  - name: database_use_btree
    title: Use Btree?
    type: boolean
    default: &quot;&quot;
    when: &quot;true&quot;

  - name: database_ssl_cert
    title: SSL Certificate
    type: textarea
    default: &quot;&quot;
    when: '{{repl ConfigOptionEquals &quot;database_use_ssl&quot; &quot;1&quot;}}'

  - name: database_ssl_key
    title: SSL Key
    type: textarea
    default: &quot;&quot;
    when: database_use_ssl=1

  - name: database_strong_password
    title: Require strong password
    type: bool
    default: &quot;&quot;
    when: database_use_ssl!=1


</code></pre>

<p><em>Correct</em>: Config option group&rsquo;s <code>when</code> clause references a valid multi-select option</p>

<pre><code class="language-yaml">---
config:
- name: ssl
  title: SSL Configuration
  description: SSL Options
  items:
  - name: ssl_cipher
    default: ssl_cipher_ecdsa
    type: select_one
    items:
    - name: ssl_cipher_ecdsa
      title: ECDSA
    - name: ssl_cipher_rsa
      title: RSA
- name: database
  title: Database
  when: ssl_cipher=ssl_cipher_ecdsa
  items:
  - name: database_use_ssl
    title: Use SSL
    type: bool

</code></pre>

<h2 id="prop-component-container-names-unique"><code>prop-component-container-names-unique</code></h2>

<p>Custom requirements must have unique ids</p>

<h4 id="examples-22">Examples:</h4>

<p><em>Incorrect</em>: duplicated ids</p>

<pre><code class="language-yaml">---
custom_requirements:
- id: alpha
  message: beta
- id: alpha
  message: delta

</code></pre>

<p><em>Incorrect</em>: separated duplicated ids</p>

<pre><code class="language-yaml">---
custom_requirements:
- id: alpha
  message: beta
- id: gamma
  message: delta
- id: alpha
  message: zeta

</code></pre>

<p><em>Correct</em>: no duplicated ids</p>

<pre><code class="language-yaml">---
custom_requirements:
- id: alpha
  message: beta
- id: gamma
  message: delta

</code></pre>

<h2 id="prop-component-container-unnamed-when-cluster-true"><code>prop-component-container-unnamed-when-cluster-true</code></h2>

<p>With clustering turned on, setting <code>container.name</code> will prevent multiple instances of the container from being scheduled on a single node</p>

<h4 id="examples-23">Examples:</h4>

<p><em>Incorrect</em>: container in component with <code>cluster_instance_count: 2</code> should not have a <code>name</code> specified</p>

<pre><code class="language-yaml">---
components:
- name: DB
  cluster: true
  cluster_host_count:
    min: 1
    max: 4
  containers:
  - source: public
    cluster: true
    cluster_instance_count:
      initial: 2
    image_name: redis
    name: database

</code></pre>

<p><em>Correct</em>: container in component with <code>cluster_instance_count: 2</code> does not have a <code>name</code> specified</p>

<pre><code class="language-yaml">---
components:
- name: DB
  tags:
  - db
  cluster: true
  cluster_host_count:
    min: 1
    max: 4
  containers:
  - source: public
    cluster_instance_count:
     initial: 2
    image_name: redis
    version: latest

</code></pre>

<h2 id="prop-component-container-event-subscription-container-exists"><code>prop-component-container-event-subscription-container-exists</code></h2>

<p>Container event subscriptions must reference an existing component/container</p>

<h4 id="examples-24">Examples:</h4>

<p><em>Incorrect</em>: container <code>redis</code> has a <code>publish_event</code> that references missing container <code>Pipeline/logstash</code></p>

<pre><code class="language-yaml">---
components:
- name: DB
  containers:
  - source: public
    image_name: mongo
  - source: public
    image_name: redis
    publish_events:
      - name: event
        subscriptions:
        - component: Pipeline
          container: logstash
          action: start

</code></pre>

<p><em>Incorrect</em>: container <code>redis</code> has a <code>publish_event</code> that references missing container <code>Pipeline/logstash</code></p>

<pre><code class="language-yaml">---
components:
- name: DB
  containers:
  - source: public
    image_name: mongo
  - source: public
    image_name: logstash
  - source: public
    image_name: redis
    publish_events:
      - name: event
        subscriptions:
        - component: Pipeline
          container: logstash
          action: start

</code></pre>

<p><em>Correct</em>: All containers referenced in <code>publish_events</code> have a matching component/container definition</p>

<pre><code class="language-yaml">---
components:
- name: DB
  containers:
  - source: public
    image_name: mongo
  - source: public
    image_name: redis
    publish_events:
      - name: event
        subscriptions:
        - component: Pipeline
          container: logstash
          action: start
- name: Pipeline
  containers:
  - source: public
    image_name: logstash

</code></pre>

<h2 id="prop-component-container-volume-modes-valid"><code>prop-component-container-volume-modes-valid</code></h2>

<p>Container volume must not specify conflicting options</p>

<h4 id="examples-25">Examples:</h4>

<p><em>Incorrect</em>: volume options contains conflicting options <code>rw</code> and <code>ro</code></p>

<pre><code class="language-yaml">---
components:
- name: DB
  containers:
  - source: public
    image_name: mongo
    volumes:
      - host_path: /tmp
        container_path: /tmp
        options:
          - rw
          - ro

</code></pre>

<p><em>Incorrect</em>: volume options contains conflicting options <code>z</code> and <code>Z</code></p>

<pre><code class="language-yaml">---
components:
- name: DB
  containers:
  - source: public
    image_name: mongo
    volumes:
      - host_path: /tmp
        container_path: /tmp
        options:
          - z
          - Z

</code></pre>

<p><em>Incorrect</em>: volume options contains conflicting options <code>rshared</code> and <code>private</code></p>

<pre><code class="language-yaml">---
components:
- name: DB
  containers:
  - source: public
    image_name: mongo
    volumes:
      - host_path: /tmp
        container_path: /tmp
        options:
          - rshared
          - private

</code></pre>

<p><em>Incorrect</em>: volume options contains duplicated option <code>nocopy</code></p>

<pre><code class="language-yaml">---
components:
- name: DB
  containers:
  - source: public
    image_name: mongo
    volumes:
      - host_path: /tmp
        container_path: /tmp
        options:
          - nocopy
          - nocopy

</code></pre>

<p><em>Correct</em>: no volumes are defined</p>

<pre><code class="language-yaml">---
components:
- name: DB
  containers:
  - source: public
    image_name: redis

</code></pre>

<p><em>Correct</em>: no volume options are defined</p>

<pre><code class="language-yaml">---
components:
- name: DB
  containers:
  - source: public
    image_name: redis
    volumes:
      - host_path: /tmp
        container_path: /tmp

</code></pre>

<p><em>Correct</em>: No conflicting volume options are defined</p>

<pre><code class="language-yaml">---
components:
- name: DB
  containers:
  - source: public
    image_name: redis
    volumes:
      - host_path: /tmp
        container_path: /tmp
        options:
          - rw
          - Z
          - rshared
          - nocopy

</code></pre>

<h2 id="prop-component-container-volume-path-absolute"><code>prop-component-container-volume-path-absolute</code></h2>

<p>Container volume&rsquo;s <code>container_path</code> must be absolute</p>

<h4 id="examples-26">Examples:</h4>

<p><em>Incorrect</em>: container path is not absolute</p>

<pre><code class="language-yaml">---
components:
- name: DB
  containers:
  - source: public
    image_name: mongo
    volumes:
      - host_path: /tmp
        container_path: ubuntu/workspace

</code></pre>

<p><em>Correct</em>: container path is absolute</p>

<pre><code class="language-yaml">---
components:
- name: DB
  containers:
  - source: public
    image_name: mongo
    volumes:
      - host_path: /tmp
        container_path: /home/ubuntu/workspace

</code></pre>

<p><em>Correct</em>: container path is a templated field</p>

<pre><code class="language-yaml">---
components:
- name: DB
  containers:
  - source: public
    image_name: redis
    volumes:
      - host_path: /tmp
        container_path: '{{repl ConfigOption &quot;mount_path&quot;}}'

</code></pre>

<h2 id="prop-component-container-contenttrust-fingerprint-valid"><code>prop-component-container-contenttrust-fingerprint-valid</code></h2>

<p>A container&rsquo;s content_trust.<code>public_key_fingerprint</code> must be a valid RFC4716 fingerprint, e.g. <code>cb:69:19:cd:76:1f:17:54:92:a4:fc:a9:6f:a5:57:72</code></p>

<h4 id="examples-27">Examples:</h4>

<p><em>Incorrect</em>: invalid <code>public_key_fingerprint</code></p>

<pre><code class="language-yaml">---
components:
  - name: DB
    containers:
    - source: public
      name: redis
      version: 3.2.1
      content_trust:
        public_key_fingerprint: flksdjflkds

</code></pre>

<p><em>Correct</em>: valid fingerprint</p>

<pre><code class="language-yaml">components:
  - name: DB
    containers:
    - source: public
      name: redis
      version: 3.2.1
      content_trust:
        public_key_fingerprint: cb:69:19:cd:76:1f:17:54:92:a4:fc:a9:6f:a5:57:72
    - source: public
      name: redis
      version: 3.2.1
      content_trust:
        public_key_fingerprint: aa:9c:75:89:de:46:3a:92:08:c7:ba:9a:29:fb:12:cc

</code></pre>

<h2 id="prop-component-container-volumesfrom-exists"><code>prop-component-container-volumesfrom-exists</code></h2>

<p>A container&rsquo;s <code>volumes_from</code> must reference an existing container&rsquo;s <code>name</code> field</p>

<h4 id="examples-28">Examples:</h4>

<p><em>Incorrect</em>: <code>volumes_from</code> references own container</p>

<pre><code class="language-yaml">---
components:
  - name: DB
    containers:
    - source: public
      image_name: redis
      name: redis
      version: 3.2.1
      volumes_from:
        - redis

</code></pre>

<p><em>Incorrect</em>: <code>volumes_from</code> references non-existing container</p>

<pre><code class="language-yaml">---
components:
  - name: DB
    containers:
    - source: public
      image_name: redis
      name: redis
      version: 3.2.1
      volumes_from:
        - mongo

</code></pre>

<p><em>Correct</em>: valid <code>volumes_from</code> reference</p>

<pre><code class="language-yaml">components:
  - name: DB
    containers:
    - source: public
      image_name: redis
      name: redis
      version: 3.2.1
      volumes_from:
        - mongo
    - source: public
      image_name: mongo
      name: mongo
      version: 3.2.1

</code></pre>

<h2 id="prop-component-container-names-unique-1"><code>prop-component-container-names-unique</code></h2>

<p>A component&rsquo;s container&rsquo;s must have unique <code>name</code> entries</p>

<h4 id="examples-29">Examples:</h4>

<p><em>Incorrect</em>: duplicated names in single component</p>

<pre><code class="language-yaml">---
components:
  - name: DB
    containers:
    - source: public
      image_name: redis
      name: db
      version: 3.2.1
    - source: public
      image_name: mongo
      name: db
      version: latest

</code></pre>

<p><em>Incorrect</em>: duplicated names across components</p>

<pre><code class="language-yaml">---
components:
  - name: DB
    containers:
    - source: public
      image_name: redis
      name: db
      version: 3.2.1
  - name: MoreDB
    containers:
    - source: public
      image_name: mongo
      name: db
      version: latest

</code></pre>

<p><em>Correct</em>: no duplicated names</p>

<pre><code class="language-yaml">components:
  - name: UI
    containers:
    - source: public
      image_name: nginx
      name: ui
      version: 1.10.2
  - name: DB
    containers:
    - source: public
      image_name: redis
      name: redis
      version: 3.2.1
    - source: public
      image_name: mongo
      name: mongo
      version: &quot;3.2&quot;

</code></pre>

<h2 id="prop-component-container-instance-count-initial-uint"><code>prop-component-container-instance-count-initial-uint</code></h2>

<p>Container&rsquo;s cluster_instance_count property <code>initial</code> must be an unsigned integer</p>

<h4 id="examples-30">Examples:</h4>

<p><em>Incorrect</em>: cluster_instance_count.initial must be an unsigned integer, and this is a float</p>

<pre><code class="language-yaml">---
components:
- containers:
  - cluster_instance_count:
      initial: 3.5

</code></pre>

<p><em>Incorrect</em>: cluster_instance_count.initial must be an unsigned integer, and this parses as a negative integer</p>

<pre><code class="language-yaml">---
components:
- containers:
  - cluster_instance_count:
      initial: &quot;-2&quot;

</code></pre>

<p><em>Correct</em>: cluster_instance_count.initial is an unsigned integer</p>

<pre><code class="language-yaml">---
components:
- containers:
  - cluster_instance_count:
      initial: 3

</code></pre>

<h2 id="prop-component-container-instance-count-max-uint"><code>prop-component-container-instance-count-max-uint</code></h2>

<p>Container&rsquo;s cluster_instance_count property <code>max</code> must be an unsigned integer</p>

<h4 id="examples-31">Examples:</h4>

<p><em>Incorrect</em>: cluster_instance_count.max must be an unsigned integer, and this is a negative integer</p>

<pre><code class="language-yaml">---
components:
- containers:
  - cluster_instance_count:
      max: -10

</code></pre>

<p><em>Correct</em>: cluster_instance_count.max is an unsigned integer</p>

<pre><code class="language-yaml">---
components:
- containers:
  - cluster_instance_count:
      max: 10

</code></pre>

<h2 id="prop-component-container-instance-count-degraded-uint"><code>prop-component-container-instance-count-degraded-uint</code></h2>

<p>Container&rsquo;s cluster_instance_count property <code>threshold_degraded</code> must be an unsigned integer</p>

<h4 id="examples-32">Examples:</h4>

<p><em>Incorrect</em>: cluster_instance_count.threshold_degraded must be an unsigned integer, and this parses as a float</p>

<pre><code class="language-yaml">---
components:
- containers:
  - cluster_instance_count:
      threshold_degraded: &quot;2.8&quot;

</code></pre>

<p><em>Correct</em>: cluster_instance_count.threshold_degraded is an unsigned integer</p>

<pre><code class="language-yaml">---
components:
- containers:
  - cluster_instance_count:
      threshold_degraded: &quot;2&quot;

</code></pre>

<h2 id="prop-component-container-instance-count-healthy-uint"><code>prop-component-container-instance-count-healthy-uint</code></h2>

<p>Container&rsquo;s cluster_instance_count property <code>threshold_healthy</code> must be an unsigned integer</p>

<h4 id="examples-33">Examples:</h4>

<p><em>Incorrect</em>: cluster_instance_count.threshold_healthy must be an unsigned integer, and this is a string</p>

<pre><code class="language-yaml">---
components:
- containers:
  - cluster_instance_count:
      threshold_healthy: &quot;all&quot;

</code></pre>

<p><em>Correct</em>: cluster_instance_count.threshold_healthy is an unsigned integer</p>

<pre><code class="language-yaml">---
components:
- containers:
  - cluster_instance_count:
      threshold_healthy: &quot;5&quot;

</code></pre>

<h2 id="prop-component-container-volumesfrom-subscription-exists"><code>prop-component-container-volumesfrom-subscription-exists</code></h2>

<p>A container&rsquo;s <code>volumes_from</code> must reference a container that subscribes to it</p>

<h4 id="examples-34">Examples:</h4>

<p><em>Incorrect</em>: <code>volumes_from</code> references container that does not exist</p>

<pre><code class="language-yaml">---
components:
- name: DB
  containers:
  - name: notalpha
    image_name: irrelevant
    publish_events:
    - subscriptions:
      - component: DB
        container: beta
  - image_name: beta
    volumes_from:
    - alpha

</code></pre>

<p><em>Incorrect</em>: <code>volumes_from</code> references container that does not subscribe to it</p>

<pre><code class="language-yaml">---
components:
- name: DB
  containers:
  - name: alpha
    image_name: irrelevant
    publish_events:
    - subscriptions:
      - component: DB
        container: notalpine
  - image_name: alpine
    volumes_from:
    - alpha

</code></pre>

<p><em>Incorrect</em>: <code>volumes_from</code> references multiple containers, of which one is not valid</p>

<pre><code class="language-yaml">---
components:
- name: DB
  containers:
  - name: alpha
    image_name: irrelevant
    publish_events:
    - subscriptions:
      - component: DB
        container: beta
  - image_name: beta
    volumes_from:
    - alpha
    - gamma

</code></pre>

<p><em>Incorrect</em>: <code>volumes_from</code> references itself</p>

<pre><code class="language-yaml">---
components:
- name: DB
  containers:
  - name: alphaname
    image_name: alpha
    volumes_from:
    - alpha
    publish_events:
    - subscriptions:
      - component: DB
        container: alphaname

</code></pre>

<p><em>Correct</em>: valid <code>volumes_from</code> reference</p>

<pre><code class="language-yaml">---
components:
- name: DB
  containers:
  - name: alpha
    image_name: irrelevant
    publish_events:
    - subscriptions:
      - component: DB
        container: beta
  - image_name: beta
    volumes_from:
    - alpha

</code></pre>

<p><em>Correct</em>: multiple valid <code>volumes_from</code> references</p>

<pre><code class="language-yaml">---
components:
- name: DB
  containers:
  - name: alpha
    image_name: irrelevant
    publish_events:
    - subscriptions:
      - component: DB
        container: beta
      - component: DB
        container: gamma
  - image_name: gamma
    volumes_from:
    - alpha
  - image_name: beta
    volumes_from:
    - alpha

</code></pre>

<p><em>Correct</em>: Chained dependency for <code>volumes_from</code> across components</p>

<pre><code class="language-yaml">---
components:
- name: DB
  containers:
  - name: alpha
    image_name: irrelevant
    publish_events:
    - subscriptions:
      - component: DB2
        container: gamma
  - image_name: beta
    volumes_from:
    - alpha
- name: DB2
  containers:
  - image_name: gamma
    publish_events:
    - subscriptions:
      - component: DB
        container: beta

</code></pre>

<h2 id="prop-component-container-volume-ephemeral-type-check"><code>prop-component-container-volume-ephemeral-type-check</code></h2>

<p>is_ephemeral must be a bool string, boolean literal, or template function</p>

<h4 id="examples-35">Examples:</h4>

<p><em>Incorrect</em>: <code>yes</code> is not a valid value for <code>is_ephemeral</code></p>

<pre><code class="language-yaml">---
components:
- containers:
  - volumes:
    - is_ephemeral: &quot;yes&quot;

</code></pre>

<p><em>Correct</em>: <code>&quot;true&quot;</code>, <code>true</code>, <code>&quot;false&quot;</code> and <code>false</code> are all valid values for <code>is_ephemeral</code></p>

<pre><code class="language-yaml">---
components:
- containers:
  - volumes:
    - is_ephemeral: &quot;true&quot;
    - is_ephemeral: &quot;false&quot;
    - is_ephemeral: true
    - is_ephemeral: false

</code></pre>

<p><em>Correct</em>: <code>{{repl AppID}}</code> is a valid template function and is thus a valid if questionable value for <code>is_ephemeral</code></p>

<pre><code class="language-yaml">---
components:
- containers:
  - volumes:
    - is_ephemeral: &quot;{{repl AppID}}&quot;

</code></pre>

<h2 id="prop-component-container-volume-excluded-type-check"><code>prop-component-container-volume-excluded-type-check</code></h2>

<p>is_excluded_from_backup must be a bool string, boolean literal, or template function</p>

<h4 id="examples-36">Examples:</h4>

<p><em>Incorrect</em>: <code>yes</code> is not a valid value for <code>is_excluded_from_backup</code></p>

<pre><code class="language-yaml">---
components:
- containers:
  - volumes:
    - is_excluded_from_backup: &quot;yes&quot;

</code></pre>

<p><em>Correct</em>: <code>&quot;true&quot;</code>, <code>true</code>, <code>&quot;false&quot;</code> and <code>false</code> are all valid values for <code>is_excluded_from_backup</code></p>

<pre><code class="language-yaml">---
components:
- containers:
  - volumes:
    - is_excluded_from_backup: &quot;true&quot;
    - is_excluded_from_backup: &quot;false&quot;
    - is_excluded_from_backup: true
    - is_excluded_from_backup: false

</code></pre>

<p><em>Correct</em>: <code>{{repl AppID}}</code> is a valid template function and is thus a valid value for <code>is_excluded_from_backup</code></p>

<pre><code class="language-yaml">---
components:
- containers:
  - volumes:
    - is_excluded_from_backup: &quot;{{repl AppID}}&quot;

</code></pre>

<h2 id="prop-component-container-envvars-staticval-deprecated"><code>prop-component-container-envvars-staticval-deprecated</code></h2>

<p><code>static_val</code> is deprecated, use <code>value</code> instead</p>

<h4 id="examples-37">Examples:</h4>

<p><em>Incorrect</em>: <code>static_val</code> deprecated</p>

<pre><code class="language-yaml">---
components:
- containers:
  - env_vars:
    - static_val: blah
      value: blah

</code></pre>

<p><em>Incorrect</em>: <code>static_val</code> deprecated empty</p>

<pre><code class="language-yaml">---
components:
- containers:
  - env_vars:
    - static_val: &quot;&quot;
      value: blah

</code></pre>

<p><em>Correct</em>: <code>value</code> preferred over <code>static_val</code></p>

<pre><code class="language-yaml">---
components:
- containers:
  - name: first
    env_vars:
    - value: &quot;blah&quot;

</code></pre>

<h2 id="prop-component-container-envvars-excluded-type-check"><code>prop-component-container-envvars-excluded-type-check</code></h2>

<p>is_excluded_from_support must be a bool string, boolean literal, or template function</p>

<h4 id="examples-38">Examples:</h4>

<p><em>Incorrect</em>: <code>yes</code> is not a valid value for <code>is_excluded_from_support</code></p>

<pre><code class="language-yaml">---
components:
- containers:
  - env_vars:
    - is_excluded_from_support: &quot;yes&quot;

</code></pre>

<p><em>Correct</em>: <code>&quot;true&quot;</code>, <code>true</code>, <code>&quot;false&quot;</code> and <code>false</code> are all valid values for <code>is_excluded_from_support</code></p>

<pre><code class="language-yaml">---
components:
- containers:
  - env_vars:
    - is_excluded_from_support: &quot;true&quot;
    - is_excluded_from_support: &quot;false&quot;
    - is_excluded_from_support: true
    - is_excluded_from_support: false

</code></pre>

<p><em>Correct</em>: <code>{{repl AppID}}</code> is a valid template function and is thus a valid value for <code>is_excluded_from_support</code></p>

<pre><code class="language-yaml">---
components:
- containers:
  - env_vars:
    - is_excluded_from_support: &quot;{{repl AppID}}&quot;

</code></pre>

<h2 id="prop-component-container-shm-size-uint"><code>prop-component-container-shm-size-uint</code></h2>

<p>Container&rsquo;s property shm_size must be an unsigned integer</p>

<h4 id="examples-39">Examples:</h4>

<p><em>Incorrect</em>: shm_size must be an unsigned integer, and this is a negative integer</p>

<pre><code class="language-yaml">---
components:
- containers:
  - shm_size: -10

</code></pre>

<p><em>Correct</em>: shm_size is an unsigned integer</p>

<pre><code class="language-yaml">---
components:
- containers:
  - shm_size: 10

</code></pre>

<h2 id="prop-hostreq-docker-version-valid"><code>prop-hostreq-docker-version-valid</code></h2>

<p><code>host_requirements.docker_version</code> must be a valid docker version specification</p>

<h4 id="examples-40">Examples:</h4>

<p><em>Incorrect</em>: Invalid docker version the.good.one, not semver</p>

<pre><code class="language-yaml">---
host_requirements:
  docker_version: the.good.one

</code></pre>

<p><em>Incorrect</em>: Invalid docker version <code>0.1.1</code></p>

<pre><code class="language-yaml">---
host_requirements:
  docker_version: 0.1.1

</code></pre>

<p><em>Incorrect</em>: Invalid docker version <code>1.09.1</code>, no leading zeros</p>

<pre><code class="language-yaml">---
host_requirements:
  docker_version: 1.09.1

</code></pre>

<p><em>Incorrect</em>: Invalid docker version <code>1.14.1</code>, never released</p>

<pre><code class="language-yaml">---
host_requirements:
  docker_version: 1.14.1

</code></pre>

<p><em>Incorrect</em>: Invalid docker version <code>17.13.1-ce</code>, 13 is not a valid month</p>

<pre><code class="language-yaml">---
host_requirements:
  docker_version: 17.13.1-ce

</code></pre>

<p><em>Correct</em>: Valid docker version</p>

<pre><code class="language-yaml">---
host_requirements:
  docker_version: 17.09.1-ce

</code></pre>

<p><em>Correct</em>: Valid docker version</p>

<pre><code class="language-yaml">---
host_requirements:
  docker_version: 17.09.1

</code></pre>

<p><em>Correct</em>: Valid docker version</p>

<pre><code class="language-yaml">---
host_requirements:
  docker_version: 1.12.1

</code></pre>

<h2 id="prop-hostreq-replicated-version-semver-valid"><code>prop-hostreq-replicated-version-semver-valid</code></h2>

<p><code>host_requirements.replicated_version</code> must be a semver range specification</p>

<h4 id="examples-41">Examples:</h4>

<p><em>Incorrect</em>: Invalid replicated version <code>the.good.one</code>, not semver</p>

<pre><code class="language-yaml">---
host_requirements:
  replicated_version: the.good.one

</code></pre>

<p><em>Incorrect</em>: Invalid replicated version <code>alpha-0.1.1</code></p>

<pre><code class="language-yaml">---
host_requirements:
  replicated_version: alpha-0.1.1

</code></pre>

<p><em>Correct</em>: valid version <code>2.x</code></p>

<pre><code class="language-yaml">---
host_requirements:
    replicated_version: 2.x

</code></pre>

<p><em>Correct</em>: valid version <code>2.5.3</code></p>

<pre><code class="language-yaml">---
host_requirements:
    replicated_version: 2.5.3

</code></pre>

<p><em>Correct</em>: valid version <code>&lt;=2.5.3 &gt;2.5.x</code></p>

<pre><code class="language-yaml">---
host_requirements:
    replicated_version: '&lt;=2.5.3 &gt;2.5.x'

</code></pre>

<p><em>Correct</em>: valid version <code>1.x</code></p>

<pre><code class="language-yaml">---
host_requirements:
    replicated_version: '1.x'

</code></pre>

<p><em>Correct</em>: valid version <code>=1.x</code></p>

<pre><code class="language-yaml">---
host_requirements:
    replicated_version: '=1.x'

</code></pre>

<p><em>Correct</em>: valid version <code>&gt;=1.4 &lt;1.7</code></p>

<pre><code class="language-yaml">---
host_requirements:
    replicated_version: '&gt;=1.4 &lt;1.7'

</code></pre>

<h2 id="prop-hostreq-system-ram-specs-valid"><code>prop-hostreq-system-ram-specs-valid</code></h2>

<p><code>host_requirements.memory</code> must be a positive decimal with a unit of measurement like M, MB, G, or GB</p>

<h4 id="examples-42">Examples:</h4>

<p><em>Incorrect</em>: Invalid memory size, not a properly formatted size</p>

<pre><code class="language-yaml">---
host_requirements:
  memory: &quot;128&quot;

</code></pre>

<p><em>Incorrect</em>: Invalid memory size, too many digits past the decimal point</p>

<pre><code class="language-yaml">---
host_requirements:
  memory: 0.0625TB

</code></pre>

<p><em>Correct</em>: Valid memory size, 2.0TB</p>

<pre><code class="language-yaml">---
host_requirements:
  memory: 2.0TB

</code></pre>

<p><em>Correct</em>: Valid memory size, 128KB</p>

<pre><code class="language-yaml">---
host_requirements:
  memory: 128KB

</code></pre>

<h2 id="prop-hostreq-system-storage-specs-valid"><code>prop-hostreq-system-storage-specs-valid</code></h2>

<p><code>host_requirements.disk_space</code> be a positive decimal with a unit of measurement like M, MB, G, or GB</p>

<h4 id="examples-43">Examples:</h4>

<p><em>Incorrect</em>: Invalid disk size, not a properly formatted size</p>

<pre><code class="language-yaml">---
host_requirements:
  disk_space: &quot;128&quot;

</code></pre>

<p><em>Incorrect</em>: Invalid disk size, too many digits past the decimal point</p>

<pre><code class="language-yaml">---
host_requirements:
  disk_space: 0.0625EB

</code></pre>

<p><em>Correct</em>: Valid disk size, 20.0TB</p>

<pre><code class="language-yaml">---
host_requirements:
  disk_space: 20.0TB

</code></pre>

<p><em>Correct</em>: Valid disk size, 128GB</p>

<pre><code class="language-yaml">---
host_requirements:
  disk_space: 128GB

</code></pre>

<h2 id="prop-kubernetes-requirements-version-valid"><code>prop-kubernetes-requirements-version-valid</code></h2>

<p><code>kubernetes.requirements.server_version</code> must be a valid semver specification</p>

<h4 id="examples-44">Examples:</h4>

<p><em>Incorrect</em>: <code>server_version</code> is not valid semver</p>

<pre><code class="language-yaml">---
kubernetes:
  requirements:
    server_version: 17.01.1-ce

</code></pre>

<p><em>Correct</em>: valid version <code>1.5.3</code></p>

<pre><code class="language-yaml">---
kubernetes:
  requirements:
    server_version: 1.5.3

</code></pre>

<p><em>Correct</em>: valid version <code>&lt;=1.5.3 &gt;1.5.x</code></p>

<pre><code class="language-yaml">---
kubernetes:
  requirements:
    server_version: '&lt;=1.5.3 &gt;1.5.x'

</code></pre>

<p><em>Correct</em>: valid version <code>1.x</code></p>

<pre><code class="language-yaml">---
kubernetes:
  requirements:
    server_version: '1.x'

</code></pre>

<p><em>Correct</em>: valid version <code>=1.x</code></p>

<pre><code class="language-yaml">---
kubernetes:
  requirements:
    server_version: '=1.x'

</code></pre>

<p><em>Correct</em>: valid version <code>&gt;=1.4 &lt;1.7</code></p>

<pre><code class="language-yaml">---
kubernetes:
  requirements:
    server_version: '&gt;=1.4 &lt;1.7'

</code></pre>

<h2 id="prop-kubernetes-total-memory-valid"><code>prop-kubernetes-total-memory-valid</code></h2>

<p><code>kubernetes.requirements.total_memory</code> must be expressed as a plain integer, a fixed-point integer, or the power-of-two equivalent (e.g. 128974848, 129e6, 129M, 123Mi)</p>

<h4 id="examples-45">Examples:</h4>

<p><em>Incorrect</em>: Invalid memory size, too many digits past the decimal point</p>

<pre><code class="language-yaml">---
kubernetes:
  requirements:
    total_memory: 0.0625TB

</code></pre>

<p><em>Correct</em>: Valid memory size, 2.0TB</p>

<pre><code class="language-yaml">---
kubernetes:
  requirements:
    total_memory: 2.0TB

</code></pre>

<p><em>Correct</em>: Valid memory size, 128KB</p>

<pre><code class="language-yaml">---
kubernetes:
  requirements:
    total_memory: 128KB

</code></pre>

<p><em>Correct</em>: Valid kubernetes memory size, 128</p>

<pre><code class="language-yaml">---
kubernetes:
  requirements:
    total_memory: &quot;128&quot;

</code></pre>

<p><em>Correct</em>: Valid kubernetes memory size, 129e6</p>

<pre><code class="language-yaml">---
kubernetes:
  requirements:
    total_memory: &quot;129e6&quot;

</code></pre>

<h2 id="prop-kubernetes-persistent-storage-valid"><code>prop-kubernetes-persistent-storage-valid</code></h2>

<p><code>kubernetes.persistent_volume_claims.storage</code> must be expressed as a plain integer, a fixed-point integer, or the power-of-two equivalent (e.g. 128974848, 129e6, 129M, 123Mi)</p>

<h4 id="examples-46">Examples:</h4>

<p><em>Incorrect</em>: Invalid storage size, too many digits past the decimal point</p>

<pre><code class="language-yaml">---
kubernetes:
  persistent_volume_claims:
  - storage: 0.0625TB

</code></pre>

<p><em>Correct</em>: Valid storage size, 2.0TB</p>

<pre><code class="language-yaml">---
kubernetes:
  persistent_volume_claims:
  - storage: 2.0TB

</code></pre>

<p><em>Correct</em>: Valid storage size, 128KB</p>

<pre><code class="language-yaml">---
kubernetes:
  persistent_volume_claims:
  - storage: 128KB

</code></pre>

<p><em>Correct</em>: Valid kubernetes storage size, 128</p>

<pre><code class="language-yaml">---
kubernetes:
  persistent_volume_claims:
  - storage: &quot;128&quot;

</code></pre>

<p><em>Correct</em>: Valid kubernetes storage size, 129e6</p>

<pre><code class="language-yaml">---
kubernetes:
  persistent_volume_claims:
  - storage: &quot;129e6&quot;

</code></pre>

<p><em>Correct</em>: No storage size given</p>

<pre><code class="language-yaml">---
kubernetes:
  persistent_volume_claims: []

</code></pre>

<h2 id="prop-monitors-cpuacct-container-exists"><code>prop-monitors-cpuacct-container-exists</code></h2>

<p>Entries in <code>monitors.cpuacct</code> must have matching component+container or the scheduler must be swarm</p>

<h4 id="examples-47">Examples:</h4>

<p><em>Incorrect</em>: <code>cpuacct</code> monitor references a component that does not exist</p>

<pre><code class="language-yaml">---
components:
  - name: Kibana
    containers:
      - image_name: quay.io/getelk/logstash
monitors:
  cpuacct:
    - Logstash,quay.io/getelk/logstash

</code></pre>

<p><em>Incorrect</em>: <code>cpuacct</code> monitor references a container that does not exist</p>

<pre><code class="language-yaml">---
components:
  - name: Logstash
    containers:
      - image_name: quay.io/getelk/elasticsearch
monitors:
  cpuacct:
    - Logstash,quay.io/getelk/logstash

</code></pre>

<p><em>Correct</em>: All <code>cpuacct</code> monitors reference existing containers</p>

<pre><code class="language-yaml">---
components:
  - name: Logstash
    containers:
      - image_name: quay.io/getelk/logstash
monitors:
  cpuacct:
    - Logstash,quay.io/getelk/logstash

</code></pre>

<p><em>Correct</em>: All <code>cpuacct</code> monitors are valid if the scheduler is swarm</p>

<pre><code class="language-yaml">---
monitors:
  cpuacct:
    - swarmstash
swarm:
  minimum_node_count: &quot;1&quot;

</code></pre>

<p><em>Correct</em>: No monitors, no containers</p>

<pre><code class="language-yaml">---
monitors:
  cpuacct: []

</code></pre>

<h2 id="prop-monitors-memory-container-exists"><code>prop-monitors-memory-container-exists</code></h2>

<p>Entries in <code>monitors.memory</code> must have matching component+container or the scheduler must be swarm</p>

<h4 id="examples-48">Examples:</h4>

<p><em>Incorrect</em>: <code>memacct</code> monitor references a component that does not exist</p>

<pre><code class="language-yaml">---
components:
  - name: Kibana
    containers:
      - image_name: quay.io/getelk/logstash
monitors:
  memory:
    - Logstash,quay.io/getelk/logstash

</code></pre>

<p><em>Incorrect</em>: <code>memacct</code> monitor references a container that does not exist</p>

<pre><code class="language-yaml">---
components:
  - name: Logstash
    containers:
      - image_name: quay.io/getelk/elasticsearch
monitors:
  memory:
    - Logstash,quay.io/getelk/logstash

</code></pre>

<p><em>Correct</em>: All <code>memacct</code> monitors reference existing containers</p>

<pre><code class="language-yaml">---
components:
  - name: Logstash
    containers:
      - image_name: quay.io/getelk/logstash
monitors:
  memory:
    - Logstash,quay.io/getelk/logstash

</code></pre>

<p><em>Correct</em>: All <code>memacct</code> monitors are valid if the scheduler is swarm</p>

<pre><code class="language-yaml">---
monitors:
  memory:
    - swarmstash
swarm:
  minimum_node_count: &quot;1&quot;

</code></pre>

<h2 id="prop-monitors-custom-has-target"><code>prop-monitors-custom-has-target</code></h2>

<p>Entries in <code>monitors.custom</code> must have at least one target</p>

<h4 id="examples-49">Examples:</h4>

<p><em>Incorrect</em>: custom monitor has no targets</p>

<pre><code class="language-yaml">---
monitors:
  custom:
    - name: whatever
      targets: []

</code></pre>

<p><em>Incorrect</em>: single target is empty</p>

<pre><code class="language-yaml">---
monitors:
  custom:
    - name: whatever
      target: &quot;&quot;

</code></pre>

<p><em>Incorrect</em>: custom monitor has null targets</p>

<pre><code class="language-yaml">---
monitors:
  custom:
    - name: whatever

</code></pre>

<p><em>Correct</em>: All custom monitors have at least one target</p>

<pre><code class="language-yaml">---
components:
  - name: Logstash
    containers:
      - image_name: quay.io/getelk/logstash
monitors:
  custom:
    - name: whenever
      target: stats.gauges.myapp100.ping.*
    - name: whatever
      targets:
        - stats.gauges.myapp100.ping.*
        - movingAverage(stats.gauges.myapp100.ping.*,60)
        - movingAverage(stats.gauges.myapp100.ping.*,600)

</code></pre>

<h2 id="prop-monitors-custom-has-target-1"><code>prop-monitors-custom-has-target</code></h2>

<p>Entries in <code>monitors.custom</code> have valid color specifications</p>

<h4 id="examples-50">Examples:</h4>

<p><em>Incorrect</em>: custom monitor has invalid <code>stroke_color</code></p>

<pre><code class="language-yaml">---
monitors:
  custom:
    - name: whatever
      targets: [stats.mystat.*]
      display:
        stroke_color: blue

</code></pre>

<p><em>Incorrect</em>: custom monitor has invalid <code>fill_color</code></p>

<pre><code class="language-yaml">---
monitors:
  custom:
    - name: whatever
      targets: [stats.mystat.*]
      display:
        fill_color: blue

</code></pre>

<p><em>Correct</em>: custom monitor has valid color specs</p>

<pre><code class="language-yaml">---
components:
  - name: Logstash
    containers:
      - image_name: quay.io/getelk/logstash
monitors:
  custom:
    - name: whenever
      target: stats.gauges.myapp100.ping.*
    - name: whatever
      targets:
        - stats.gauges.myapp100.ping.*
        - movingAverage(stats.gauges.myapp100.ping.*,60)
        - movingAverage(stats.gauges.myapp100.ping.*,600)
      display:
        fill_color: '#44BB66'
        stroke_color: '#444444'

</code></pre>

<h2 id="prop-statsd-port-valid"><code>prop-statsd-port-valid</code></h2>

<p>If specified, <code>statsd.port</code> must be a valid TCP port</p>

<h4 id="examples-51">Examples:</h4>

<p><em>Incorrect</em>: <code>statsd.port</code> is negative</p>

<pre><code class="language-yaml">---
statsd:
  port: -100

</code></pre>

<p><em>Incorrect</em>: <code>statsd.port</code> is above the maximum tcp port range</p>

<pre><code class="language-yaml">---
statsd:
  port: 100000

</code></pre>

<p><em>Correct</em>: statsd port valid</p>

<pre><code class="language-yaml">---
statsd:
  port: 43221

</code></pre>

<p><em>Correct</em>: statsd port not specified</p>

<pre><code class="language-yaml">---
statsd: {}

</code></pre>

<h2 id="prop-graphite-port-valid"><code>prop-graphite-port-valid</code></h2>

<p>If specified, <code>graphite.port</code> must be a valid TCP port</p>

<h4 id="examples-52">Examples:</h4>

<p><em>Incorrect</em>: <code>graphite.port</code> is negative</p>

<pre><code class="language-yaml">---
graphite:
  port: -100

</code></pre>

<p><em>Incorrect</em>: <code>graphite.port</code> is above the maximum tcp port range</p>

<pre><code class="language-yaml">---
graphite:
  port: 100000

</code></pre>

<p><em>Correct</em>: graphite port valid</p>

<pre><code class="language-yaml">---
graphite:
  port: 43221

</code></pre>

<p><em>Correct</em>: graphite port not specified</p>

<pre><code class="language-yaml">---
graphite: {}

</code></pre>

<h2 id="prop-custommetric-retention-valid"><code>prop-custommetric-retention-valid</code></h2>

<p>If specified, a custom_metric&rsquo;s <code>retention</code> must be in a valid format, e.g.<code>15s:7d,1m:21d,15m:5y</code></p>

<h4 id="examples-53">Examples:</h4>

<p><em>Incorrect</em>: retention invalid</p>

<pre><code class="language-yaml">---
custom_metrics:
  - target: stats.gauges.ping.rtt.*
    retention: 15 second resolution for  10 days
    aggregation_method: &quot;average&quot;
    xfiles_factor: 0.3

</code></pre>

<p><em>Correct</em>: no custom metrics</p>

<pre><code class="language-yaml">---
custom_metrics: []

</code></pre>

<p><em>Correct</em>: custom retention not specified</p>

<pre><code class="language-yaml">---
custom_metrics:
  - target: stats.gauges.ping.rtt.*
    aggregation_method: &quot;average&quot;
    xfiles_factor: 0.3


</code></pre>

<p><em>Correct</em>: minimal valid retention</p>

<pre><code class="language-yaml">---
custom_metrics:
  - target: stats.gauges.ping.rtt.*
    retention: 15s:7d
    aggregation_method: &quot;average&quot;
    xfiles_factor: 0.3


</code></pre>

<p><em>Correct</em>: valid retention with spaces</p>

<pre><code class="language-yaml">---
custom_metrics:
  - target: stats.gauges.ping.rtt.*
    retention: 15s:7d, 1m:22d, 15m:2h
    aggregation_method: &quot;average&quot;
    xfiles_factor: 0.3


</code></pre>

<p><em>Correct</em>: valid retention 1</p>

<pre><code class="language-yaml">---
custom_metrics:
  - target: stats.gauges.ping.rtt.*
    retention: 15s:7d,1m:21d,15m:5y
    aggregation_method: &quot;average&quot;
    xfiles_factor: 0.3


</code></pre>

<p><em>Correct</em>: valid retention 2</p>

<pre><code class="language-yaml">---
custom_metrics:
  - target: stats.gauges.ping.rtt.*
    retention: &quot;1m:1h,1h:7d,1d:90d&quot;
    aggregation_method: &quot;average&quot;
    xfiles_factor: 0.3


</code></pre>

<p><em>Correct</em>: valid retention 3</p>

<pre><code class="language-yaml">---
custom_metrics:
  - target: stats.gauges.ping.rtt.*
    retention: &quot;1s:10m,1m:4h,1h:30d&quot;
    aggregation_method: &quot;average&quot;
    xfiles_factor: 0.3


</code></pre>

<p><em>Correct</em>: valid retention 4</p>

<pre><code class="language-yaml">---
custom_metrics:
  - target: stats.gauges.myapp100.ping.*
    retention: &quot;10s:10m,1m:20m,1h:30d&quot;
    aggregation_method: &quot;average&quot;
    xfiles_factor: 0.3


</code></pre>

<h2 id="prop-custommetric-aggregation-valid"><code>prop-custommetric-aggregation-valid</code></h2>

<p>If specified, a <code>custom_metric</code>&rsquo;s aggregation must one of <code>average</code>, <code>sum</code>, <code>min</code>, <code>max</code>, <code>last</code></p>

<h4 id="examples-54">Examples:</h4>

<p><em>Incorrect</em>: aggregation invalid</p>

<pre><code class="language-yaml">---
custom_metrics:
  - target: stats.gauges.ping.rtt.*
    retention: 15s:7d,1m:14d,15m:1y
    aggregation_method: &quot;middle-out&quot;
    xfiles_factor: 0.3

</code></pre>

<p><em>Correct</em>: no custom metrics</p>

<pre><code class="language-yaml">---
custom_metrics: []

</code></pre>

<p><em>Correct</em>: custom aggregation not specified</p>

<pre><code class="language-yaml">---
custom_metrics:
  - target: stats.gauges.ping.rtt.*


</code></pre>

<p><em>Correct</em>: aggregation == <code>sum</code></p>

<pre><code class="language-yaml">---
custom_metrics:
  - target: stats.gauges.ping.rtt.*
    retention: 15s:7d
    aggregation_method: &quot;sum&quot;
    xfiles_factor: 0.3


</code></pre>

<p><em>Correct</em>: aggregation == <code>average</code></p>

<pre><code class="language-yaml">---
custom_metrics:
  - target: stats.gauges.ping.rtt.*
    retention: 15s:7d, 1m:22d, 15m:2h
    aggregation_method: &quot;average&quot;
    xfiles_factor: 0.3


</code></pre>

<p><em>Correct</em>: aggregation == <code>max</code></p>

<pre><code class="language-yaml">---
custom_metrics:
  - target: stats.gauges.ping.rtt.*
    retention: 15s:7d,1m:21d,15m:5y
    aggregation_method: &quot;max&quot;
    xfiles_factor: 0.3


</code></pre>

<p><em>Correct</em>: aggregation == <code>min</code></p>

<pre><code class="language-yaml">---
custom_metrics:
  - target: stats.gauges.ping.rtt.*
    retention: &quot;1m:1h,1h:7d,1d:90d&quot;
    aggregation_method: &quot;min&quot;
    xfiles_factor: 0.3


</code></pre>

<p><em>Correct</em>: aggregation == <code>last</code></p>

<pre><code class="language-yaml">---
custom_metrics:
  - target: stats.gauges.ping.rtt.*
    retention: &quot;1s:10m,1m:4h,1h:30d&quot;
    aggregation_method: &quot;last&quot;
    xfiles_factor: 0.3

</code></pre>

<h2 id="prop-monitors-custom-display-labelscale-valid"><code>prop-monitors-custom-display-labelscale-valid</code></h2>

<p>If specified, a custom monitor&rsquo;s <code>display.label_scale</code> must be one of <code>metric</code>, <code>none</code> or a parseable <code>float</code></p>

<h4 id="examples-55">Examples:</h4>

<p><em>Incorrect</em>: <code>label_scale</code> == <code>kfbr392</code>, not a valid float</p>

<pre><code class="language-yaml">---
monitors:
  custom:
    - target: stats.gauges.kfbr392.*
      display:
        label_scale: kfbr392

</code></pre>

<p><em>Incorrect</em>: <code>label_scale</code> == <code>1.1.02</code>, not a valid float</p>

<pre><code class="language-yaml">---
monitors:
  custom:
    - target: stats.gauges.kfbr392.*
      display:
        label_scale: 1.1.02

</code></pre>

<p><em>Correct</em>: <code>label_scale</code> == <code>metric</code></p>

<pre><code class="language-yaml">---
monitors:
  custom:
    - target: stats.gauges.kfbr392.*
      display:
        label_scale: metric

</code></pre>

<p><em>Correct</em>: <code>label_scale</code> == <code>none</code></p>

<pre><code class="language-yaml">---
monitors:
  custom:
    - target: stats.gauges.kfbr392.*
      display:
        label_scale: none

</code></pre>

<p><em>Correct</em>: <code>label_scale</code> == <code>1.84</code></p>

<pre><code class="language-yaml">---
monitors:
  custom:
    - target: stats.gauges.kfbr392.*
      display:
        label_scale: 1.84

</code></pre>

<p><em>Correct</em>: <code>label_scale</code> == <code>.1</code></p>

<pre><code class="language-yaml">---
monitors:
  custom:
    - target: stats.gauges.kfbr392.*
      display:
        label_scale: .1

</code></pre>

<p><em>Correct</em>: <code>label_scale</code> == <code>12</code></p>

<pre><code class="language-yaml">---
monitors:
  custom:
    - target: stats.gauges.kfbr392.*
      display:
        label_scale: 12

</code></pre>

<p><em>Correct</em>: <code>label_scale</code> == <code>-12.23131131</code></p>

<pre><code class="language-yaml">---
monitors:
  custom:
    - target: stats.gauges.kfbr392.*
      display:
        label_scale: -12.23131131

</code></pre>

<h2 id="prop-replicated-api-version-present"><code>prop-replicated-api-version-present</code></h2>

<p><code>replicated_api_version</code> must be present and be a valid Semver specification</p>

<h4 id="examples-56">Examples:</h4>

<p><em>Incorrect</em>: <code>replicated_api_version</code> is missing</p>

<pre><code class="language-yaml">---
{}

</code></pre>

<p><em>Incorrect</em>: <code>replicated_api_version</code> is not valid semver</p>

<pre><code class="language-yaml">---
replicated_api_version: kfbr392

</code></pre>

<p><em>Correct</em>: <code>replicated_api_version</code> is valid semver</p>

<pre><code class="language-yaml">---
replicated_api_version: 2.9.0

</code></pre>

<h2 id="prop-image-contenttrust-fingerprint-valid"><code>prop-image-contenttrust-fingerprint-valid</code></h2>

<p>An image&rsquo;s <code>content_trust.public_key_fingerprint</code> must be a valid RFC4716 fingerprint, e.g. <code>cb:69:19:cd:76:1f:17:54:92:a4:fc:a9:6f:a5:57:72</code></p>

<h4 id="examples-57">Examples:</h4>

<p><em>Incorrect</em>:</p>

<pre><code class="language-yaml">---
images:
  - source: public
    name: redis
    tag: 3.2.1
    content_trust:
      public_key_fingerprint: flksdjflkds

</code></pre>

<p><em>Correct</em>: valid fingerprint</p>

<pre><code class="language-yaml">---
images:
  - source: public
    name: redis
    tag: 3.2.1
    content_trust:
      public_key_fingerprint: cb:69:19:cd:76:1f:17:54:92:a4:fc:a9:6f:a5:57:72

</code></pre>

<h2 id="prop-properties-shellalias-valid"><code>prop-properties-shellalias-valid</code></h2>

<p><code>properties.shell_alias</code> must be a valid shell alias</p>

<h4 id="examples-58">Examples:</h4>

<p><em>Incorrect</em>: alias contains invalid character <code>&amp;</code></p>

<pre><code class="language-yaml">---
properties:
  shell_alias: exec&amp;echo

</code></pre>

<p><em>Incorrect</em>: admin command contains invalid character <code>*</code></p>

<pre><code class="language-yaml">---
properties:
  shell_alias: exec**echo

</code></pre>

<p><em>Correct</em>: valid alias</p>

<pre><code class="language-yaml">---
properties:
  shell_alias: do_a-replicated_thing---plz

</code></pre>

<h2 id="prop-properties-logourl-valid"><code>prop-properties-logourl-valid</code></h2>

<p>Logo URL must be a valid http or https URL</p>

<h4 id="examples-59">Examples:</h4>

<p><em>Incorrect</em>: protocol not in [<code>http</code>, <code>https</code>]</p>

<pre><code class="language-yaml">---
properties:
  logo_url: yo://mylogo.com/logo.png

</code></pre>

<p><em>Incorrect</em>: invalid url</p>

<pre><code class="language-yaml">---
properties:
  logo_url: kfbr392

</code></pre>

<p><em>Incorrect</em>: invalid url</p>

<pre><code class="language-yaml">---
properties:
  logo_url: http://i.goo gr.com/rnZ3Ftf.png

</code></pre>

<p><em>Correct</em>: valid url</p>

<pre><code class="language-yaml">---
properties:
  logo_url: http://x.y+a.com:3000/b/c

</code></pre>

<h2 id="mesg-yaml-valid"><code>mesg-yaml-valid</code></h2>

<p>Document must be valid YAML. This could occur for many reasons, consult individual error details for more info.</p>

<h4 id="more-info">More Info:</h4>

<ul>
<li><a href="http://yaml.org/spec/">http://yaml.org/spec/</a></li>
<li><a href="http://docs.ansible.com/ansible/latest/YAMLSyntax.html">http://docs.ansible.com/ansible/latest/YAMLSyntax.html</a></li>
</ul>

<h4 id="examples-60">Examples:</h4>

<p><em>Incorrect</em>: Document must have valid syntax</p>

<pre><code class="language-yaml">---
}}{{}}{{

</code></pre>

<h2 id="mesg-yaml-not-empty"><code>mesg-yaml-not-empty</code></h2>

<p>Document must not be empty</p>

<h4 id="examples-61">Examples:</h4>

<p><em>Incorrect</em>: Document may not be empty</p>

<pre><code class="language-yaml">---

</code></pre>

<h2 id="prop-schema-valid"><code>prop-schema-valid</code></h2>

<p>Document must conform to the Replicated YAML document schema</p>

<h4 id="more-info-1">More Info:</h4>

<ul>
<li><a href="https://help.replicated.com/api/yaml#Schema">https://help.replicated.com/api/yaml#Schema</a></li>
</ul>

<h4 id="examples-62">Examples:</h4>

<p><em>Incorrect</em>: Property <code>deploy_this_great_app</code> is not present in the schema</p>

<pre><code class="language-yaml">---
deploy_this_great_app: plz&amp;thx

</code></pre>

<p><em>Incorrect</em>: Property <code>replicated_api_version</code> is not of correct type, should be <code>string</code>, but <code>2.11</code> is parsed as type <code>float</code></p>

<pre><code class="language-yaml">---
replicated_api_version: 2.11

</code></pre>

<p><em>Incorrect</em>: <code>2</code> is not a valid value for <code>is_ephemeral</code></p>

<pre><code class="language-yaml">---
components:
- containers:
- volumes:
  - is_ephemeral: 2

</code></pre>

<p><em>Incorrect</em>: <code>1</code> is not a valid value for <code>is_ephemeral</code>, though <code>&quot;1&quot;</code> is</p>

<pre><code class="language-yaml">---
components:
- containers:
- volumes:
  - is_ephemeral: 1

</code></pre>

<p><em>Incorrect</em>: <code>2</code> is not a valid value for <code>is_excluded_from_backup</code></p>

<pre><code class="language-yaml">---
components:
- containers:
- volumes:
  - is_excluded_from_backup: 2

</code></pre>

<p><em>Incorrect</em>: <code>1</code> is not a valid value for <code>is_excluded_from_backup</code>, though <code>&quot;1&quot;</code> is</p>

<pre><code class="language-yaml">---
components:
- containers:
- volumes:
  - is_excluded_from_backup: 1

</code></pre>

<p><em>Incorrect</em>: <code>statsd.port</code> is not an integer</p>

<pre><code class="language-yaml">---
statsd:
port: foo

</code></pre>

<p><em>Incorrect</em>: <code>graphite.port</code> is not an integer</p>

<pre><code class="language-yaml">---
graphite:
port: foo

</code></pre>

<p><em>Incorrect</em>: cluster_host_count.min must be an unsigned integer, and this is a boolean</p>

<pre><code class="language-yaml">---
components:
- cluster_host_count:
  min: false

</code></pre>

<p><em>Correct</em>: container.version can be a string or a number</p>

<pre><code class="language-yaml">---
components:
- containers:
  - image_name: kfbr
    version: 392
  - image_name: redis
    version: latest

</code></pre>

<h2 id="prop-swarm-secret-name-value"><code>prop-swarm-secret-name-value</code></h2>

<p>Swarm secrets require both a <code>name</code> and a <code>value</code> to function.</p>

<h4 id="examples-63">Examples:</h4>

<p><em>Incorrect</em>: A swarm secret must contain a <code>name</code> and a <code>value</code>, and this only has a <code>name</code></p>

<pre><code class="language-yaml">---
replicated_api_version: &quot;2.7.0&quot;
swarm:
  secrets:
  - name: foo

</code></pre>

<p><em>Incorrect</em>: A swarm secret must contain a <code>name</code> and a <code>value</code>, and this <code>name</code> is empty</p>

<pre><code class="language-yaml">---
replicated_api_version: &quot;2.7.0&quot;
swarm:
  secrets:
  - name: &quot;&quot;
    value: bar

</code></pre>

<p><em>Incorrect</em>: A swarm secret must contain a <code>name</code> and a <code>value</code> even when labels exist</p>

<pre><code class="language-yaml">---
replicated_api_version: &quot;2.7.0&quot;
swarm:
  secrets:
  - name: &quot;&quot;
    value: bar
    labels:
      alpha: beta

</code></pre>

<p><em>Correct</em>: This swarm secret contains a <code>name</code> and a <code>value</code></p>

<pre><code class="language-yaml">---
replicated_api_version: &quot;2.7.0&quot;
swarm:
  secrets:
  - name: foo
    value: bar

</code></pre>

<h2 id="prop-swarm-secret-label-key"><code>prop-swarm-secret-label-key</code></h2>

<p>Labels within a swarm secret must have keys.</p>

<h4 id="examples-64">Examples:</h4>

<p><em>Incorrect</em>: Swarm secret labels must not be the empty string</p>

<pre><code class="language-yaml">---
replicated_api_version: &quot;2.7.0&quot;
swarm:
  secrets:
  - name: foo
    value: bar
    labels:
      alpha: beta
      &quot;&quot;: delta

</code></pre>

<p><em>Correct</em>: These swarm secret labels are not the empty string</p>

<pre><code class="language-yaml">---
replicated_api_version: &quot;2.7.0&quot;
swarm:
  secrets:
  - name: foo
    value: bar
    labels:
      alpha: beta
      gamma: delta

</code></pre>

<h2 id="prop-swarm-config-name-value"><code>prop-swarm-config-name-value</code></h2>

<p>Swarm configs require both a <code>name</code> and a <code>value</code> to function.</p>

<h4 id="examples-65">Examples:</h4>

<p><em>Incorrect</em>: A swarm config must contain a <code>name</code> and a <code>value</code>, and this only has a <code>name</code></p>

<pre><code class="language-yaml">---
replicated_api_version: &quot;2.7.0&quot;
swarm:
  configs:
  - name: foo

</code></pre>

<p><em>Incorrect</em>: A swarm config must contain a <code>name</code> and a <code>value</code>, and this <code>name</code> is empty</p>

<pre><code class="language-yaml">---
replicated_api_version: &quot;2.7.0&quot;
swarm:
  configs:
  - name: &quot;&quot;
    value: bar

</code></pre>

<p><em>Incorrect</em>: A swarm config must contain a <code>name</code> and a <code>value</code> even when labels exist</p>

<pre><code class="language-yaml">---
replicated_api_version: &quot;2.7.0&quot;
swarm:
  configs:
  - name: &quot;&quot;
    value: bar
    labels:
      alpha: beta

</code></pre>

<p><em>Correct</em>: This swarm config contains a <code>name</code> and a <code>value</code></p>

<pre><code class="language-yaml">---
replicated_api_version: &quot;2.7.0&quot;
swarm:
  configs:
  - name: foo
    value: bar

</code></pre>

<h2 id="prop-swarm-config-label-key"><code>prop-swarm-config-label-key</code></h2>

<p>Labels within a swarm config must have keys.</p>

<h4 id="examples-66">Examples:</h4>

<p><em>Incorrect</em>: Swarm config labels must not be the empty string</p>

<pre><code class="language-yaml">---
replicated_api_version: &quot;2.7.0&quot;
swarm:
  configs:
  - name: foo
    value: bar
    labels:
      alpha: beta
      &quot;&quot;: delta

</code></pre>

<p><em>Correct</em>: These swarm config labels are not the empty string</p>

<pre><code class="language-yaml">---
replicated_api_version: &quot;2.7.0&quot;
swarm:
  configs:
  - name: foo
    value: bar
    labels:
      alpha: beta
      gamma: delta

</code></pre>

<h2 id="prop-configitem-testproc-run-on-save"><code>prop-configitem-testproc-run-on-save</code></h2>

<p>If a config item&rsquo;s <code>test_proc.run_on_save</code> is not set to <code>true</code>, test_proc&rsquo;s will not be checked automatically. Consider setting to <code>true</code> to automatically validate inputs</p>

<h4 id="more-info-2">More Info:</h4>

<ul>
<li><a href="https://www.replicated.com/docs/packaging-an-application/test-procs/">https://www.replicated.com/docs/packaging-an-application/test-procs/</a></li>
</ul>

<h4 id="examples-67">Examples:</h4>

<p><em>Incorrect</em>: A config item&rsquo;s <code>test_proc.run_on_save</code> set to <code>false</code></p>

<pre><code class="language-yaml">---
config:
- name: configs
  title: Configuration
  items:
  - name: phone_number
    type: text
    test_proc:
      display_name: Is this a Phone Number?
      command: regex_match
      run_on_save: false
      args:
      - &quot;([0-9]{3})[-]([0-9]{3})[-]([0-9]{4})$&quot;
      - &quot;That doesn't seem to be a phone number!&quot;

</code></pre>

<p><em>Incorrect</em>: A config groups&rsquo;s <code>test_proc.run_on_save</code> set to <code>false</code></p>

<pre><code class="language-yaml">---
config:
- name: configs
  title: Configuration
  test_proc:
    display_name: Is this a Phone Number?
    command: regex_match
    run_on_save: false
    args:
    - &quot;([0-9]{3})[-]([0-9]{3})[-]([0-9]{4})$&quot;
    - &quot;That doesn't seem to be a phone number!&quot;
  items:
  - name: phone_number
    type: text

</code></pre>

<p><em>Correct</em>: All <code>test_procs</code> have <code>run_on_save</code> == <code>true</code></p>

<pre><code class="language-yaml">---
config:
- name: configs
  title: Configuration
  items:
  - name: phone_number
    type: text
    test_proc:
      display_name: Is this a Phone Number?
      command: regex_match
      run_on_save: true
      args:
      - &quot;([0-9]{3})[-]([0-9]{3})[-]([0-9]{4})$&quot;
      - &quot;That doesn't seem to be a phone number!&quot;

</code></pre>

<p><em>Correct</em>: No config items have test procs</p>

<pre><code class="language-yaml">---
config:
- name: configs
  title: Configuration
  items:
  - name: phone_number
    type: text

</code></pre>

<h2 id="prop-configitem-testproc-command-valid"><code>prop-configitem-testproc-command-valid</code></h2>

<p>A <code>test_proc</code>&rsquo;s command entry must be a valid command.</p>

<h4 id="more-info-3">More Info:</h4>

<ul>
<li><a href="https://www.replicated.com/docs/packaging-an-application/test-procs/">https://www.replicated.com/docs/packaging-an-application/test-procs/</a></li>
</ul>

<h4 id="examples-68">Examples:</h4>

<p><em>Incorrect</em>: config item&rsquo;s <code>test_proc.command</code> is set to <code>json_is_good</code>, which is not a supported Test Proc command</p>

<pre><code class="language-yaml">---
config:
- name: configs
  title: Configuration
  items:
  - name: phone_number
    type: text
    test_proc:
      display_name: Is the json good?
      command: json_is_good

</code></pre>

<p><em>Incorrect</em>: config group&rsquo;s <code>test_proc.command</code> is set to <code>all_the_json_is_good</code>, which is not a supported Test Proc command</p>

<pre><code class="language-yaml">---
config:
- name: configs
  title: Configuration
  test_proc:
    display_name: Is the json good?
    command: all_the_json_is_good
  items:
  - name: phone_number
    type: text

</code></pre>

<p><em>Correct</em>: item and group&rsquo;s <code>test_proc.command</code>s are set to <code>resolve_host</code> and <code>smtp_auth</code>, both supported Test Proc commands</p>

<pre><code class="language-yaml">---
config:
- name: configs
  title: Configuration
  test_proc:
    display_name: Is docs.replicated.com reachable?
    command: smtp_auth
  items:
  - name: docs_host
    type: text
    test_proc:
      display_name: Is docs.replicated.com reachable?
      command: resolve_host
      args:
      - docs.replicated.com
</code></pre>

<p><em>Correct</em>: item&rsquo;s <code>test_proc.command</code> is set to <code>resolve_host</code></p>

<pre><code class="language-yaml">---
config:
- name: hostname
  title: Hostname
  description: Ensure this domain name is routable on your network.
  items:
  - name: hostname
    title: Hostname
    value: '{{repl ConsoleSetting &quot;tls.hostname&quot;}}'
    type: text
    test_proc:
      display_name: Check DNS
      command: resolve_host

</code></pre>

<p><em>Correct</em>: no test procs specified</p>

<pre><code class="language-yaml">---
config:
- name: configs
  title: Configuration
  items:
  - name: docs_host
    type: text

</code></pre>

<p>Autogenerated reference documentation for <a href="https://github.com/replicatedhq/replicated-lint">Replicated YAML Linter</a>
<em>Generated at Tue Mar 06 2018 17:35:25 GMT-0800 (STD)</em></p>

                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div>
            
        </div>
    </article>
</main>
	<footer>
		<div class="container">
			<div class="footer-items-wrapper">
        <div class="footer-list flex1 paddingContainer">
					<div class="footer-list-item">
  <div class="footer-item">
    <div class="u-paddingBottom--normal">
      <a target="_blank" class="u-cursor--pointer" href="https://www.replicated.com">
        <img width="130" src="/images/footer_logo@2x.png"/>
      </a>
    </div>
    <div class="u-fontSize--small u-color--dustyGray u-marginBottom--small u-hidden--mobileTablet">&copy; 2018 <a> &nbsp;Replicated Inc.</a></div>
    <div class="u-fontSize--small u-color--dustyGray u-hidden--mobileTablet">All Rights Reserved</div>
  </div>
</div><div class="footer-list-item">
  <div class="footer-item">
    <p class="u-fontWeight--medium u-color--tuna">Help Center</p>
    <ul>
      <li><a class="u-color--dustyGray u-textDecoration--underlineOnHover" href="/guides">Guides</a></li>
      <li><a class="u-color--dustyGray u-textDecoration--underlineOnHover" href="/docs">Documentation</a></li>
      <li><a class="u-color--dustyGray u-textDecoration--underlineOnHover" href="/api">API Reference</a></li>
      <li><a class="u-color--dustyGray u-textDecoration--underlineOnHover" href="https://vendor.replicated.com/support">Contact Support</a></li>
    </ul>
  </div>
</div><div class="footer-list-item">
  <div class="footer-item">
    <p class="u-fontWeight--medium u-color--tuna">Company</p>
    <ul>
      <li><a class="u-color--dustyGray u-textDecoration--underlineOnHover" href="https://www.replicated.com">About Replicated</a></li>
      <li><a class="u-color--dustyGray u-textDecoration--underlineOnHover" href="https://blog.replicated.com">Replicated Blog</a></li>
      <li><a class="u-color--dustyGray u-textDecoration--underlineOnHover" href="https://www.replicated.com/careers">Careers</a></li>
      <li><a class="u-color--dustyGray u-textDecoration--underlineOnHover">RSS Feed</a></li>
    </ul>
  </div>
</div><div class="footer-list-item">
  <div class="footer-item">
    <p class="u-fontWeight--medium u-color--tuna">Contact</p>
    <ul>
      <li><a class="u-color--dustyGray u-textDecoration--underlineOnHover" href="https://twitter.com/replicatedhq">Twitter</a></li>
      <li><a class="u-color--dustyGray u-textDecoration--underlineOnHover" href="mailto:contact@replicated.com">Email</a></li>
    </ul>
  </div>
</div><div class="footer-list-item">
  <div class="footer-item">
    <p class="u-fontWeight--medium u-color--tuna">More</p>
    <ul>
      <li><a class="u-color--dustyGray u-textDecoration--underlineOnHover" href="https://github.com/replicatedhq">GitHub</a></li>
      <li><a class="u-color--dustyGray u-textDecoration--underlineOnHover" href="https://www.enterpriseready.io">EnterpriseReady.io</a></li>
    </ul>
  </div>
</div>

        </div>
			</div>
		</div>
	</footer>

	
      <script>
        (function(i,s,o,g,r,a,m){
          i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||
          []).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;
          m.parentNode.insertBefore(a,m)
        })(window, document,
          'script', '//www.google-analytics.com/analytics.js', 'ga');
         
        ga('create', 'UA-61084834-1', 'auto');
        ga('set', 'anonymizeIp', true);
        ga('send', 'pageview');
         
        var buttons = document.querySelectorAll('a');
        Array.prototype.map.call(buttons, function(item) {
          if (item.host != document.location.host) {
            item.addEventListener('click', function() {
              var action = item.getAttribute('data-action') || 'follow';
              ga('send', 'event', 'outbound', action, item.href);
            });
          }
        });
      </script>
    
 
	<script src="https://cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>
	<script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/2.4.1/lodash.min.js"></script>

  
  

    
    
      
        <script src="/js/staging/autocomplete-search.js"></script>
      
      
    

  

	<script src="/js/prism.js"></script>
	<script>
		function toggleMenuClass() {
			this.classList.toggle("open");
			document.getElementById("headerLinks").classList.toggle("show");
		}
		const toggleMenu = document.getElementById("toggleNav");
		if (toggleMenu) {
			toggleMenu.addEventListener("click", toggleMenuClass);
		};
	</script>

  <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
  <script src="/js/featherlight.min.js"></script>
	<script>
		$('#desktop-search').on("click", function () {
      if(!$('#search-field').is(":visible")) {
        $('#search-field').show("slide", { direction: "right" }, 300);
        $('#search-field').focus();
      }
		});

    $('#search-field').on("blur", function () {
      $(this).hide("slide", { direction: "right" }, 300);
    });

    $('#dropdown-link').on('click', function() {
      $('#scheduler-dropdown-menu').toggle();
    });

    $(document).on('click', function(e) {
      var target = e.target;
      if(target.id !== "dropdown-link") {
        $('#scheduler-dropdown-menu').hide();
      }
    });

    $('.tooltip').tooltip({
      position: {  my: "center bottom-10", at: "center top"  },
      show: { effect: "fade", duration: 200 },
      hide: { effect: "fade", duration: 200 }
    });
	</script>
</body>
</html>
