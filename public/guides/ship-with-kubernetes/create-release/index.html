<!DOCTYPE html>
<html lang="en-us">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Create a Kubernetes Release</title>
	
	<meta name="author" content="Replicated">
	<link rel="apple-touch-icon-precomposed" sizes="57x57" href="/favicons/apple-touch-icon-57x57.png" />
	<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/favicons/apple-touch-icon-114x114.png" />
	<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/favicons/apple-touch-icon-72x72.png" />
	<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/favicons/apple-touch-icon-144x144.png" />
	<link rel="apple-touch-icon-precomposed" sizes="60x60" href="/favicons/apple-touch-icon-60x60.png" />
	<link rel="apple-touch-icon-precomposed" sizes="120x120" href="/favicons/apple-touch-icon-120x120.png" />
	<link rel="apple-touch-icon-precomposed" sizes="76x76" href="/favicons/apple-touch-icon-76x76.png" />
	<link rel="apple-touch-icon-precomposed" sizes="152x152" href="/favicons/apple-touch-icon-152x152.png" />
	<link rel="icon" type="image/png" href="/favicons/favicon-196x196.png" sizes="196x196" />
	<link rel="icon" type="image/png" href="/favicons/favicon-96x96.png" sizes="96x96" />
	<link rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32" />
	<link rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16" />
	<link rel="icon" type="image/png" href="/favicons/favicon-128.png" sizes="128x128" />
	<meta name="application-name" content="&nbsp;"/>
	<meta name="msapplication-TileColor" content="#FFFFFF" />
	<meta name="msapplication-TileImage" content="mstile-144x144.png" />
	<meta name="msapplication-square70x70logo" content="mstile-70x70.png" />
	<meta name="msapplication-square150x150logo" content="mstile-150x150.png" />
	<meta name="msapplication-wide310x150logo" content="mstile-310x150.png" />
	<meta name="msapplication-square310x310logo" content="mstile-310x310.png" />
	<link rel="stylesheet" href='/css/style-7a29e25363.css'>
	<link rel="stylesheet" href='/css/featherlight.min.css'>
	<link rel="stylesheet" href="/css/highlight/prism.css">
	
	<meta name="generator" content="Hugo 0.26" />
	
	<script src="https://cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>
	<script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.min.js"></script>
</head>
<body>
	<header>
		<nav>
			<div class="container u-position--relative">
				<a href="/search" id="mobile-search" class="searchIcon--white"></a>
				<span id="toggleNav" class="u-show--mobileTablet icon u-cursor--pointer"></span>
				<ul class="nav-list paddingContainer u-position--relative">
					<li>
						<a class="logo-link" href="/">
							<img width="109" src="/images/logo@2x.png"/>
						</a>
					</li>
					<li>
						<ul id="headerLinks" class="header-links">
							
								<li><a href="/guides/">Guides</a></li>
							
								<li><a href="/docs/native/getting-started/overview/">Documentation</a></li>
							
								<li><a href="/api/">API Reference</a></li>
							
								<li><a href="https://help.replicated.com/community/">Community</a></li>
							
							<li>
								<div class="search-form">
									<input type="text" placeholder="What are you looking for?" id="search-field" style="display: none;" />
									<span class="searchIcon--white" id="desktop-search"></span>
								</div>
							</li>
							<li class="log-in-link">
								<span><a href="https://vendor.replicated.com" target="_blank">Log in</a></span>
								
							</li>
						</ul>
					</li>
				</ul>
			</div>
		</nav>
	</header>

<main>
    <article class="single">
            
                <div class="u-gradient--kubernetes main-section header flex-column flex1 justifyContent--center">
            
            <div class="container">
                <div class="paddingContainer">
                    <div class="flex flex-auto u-width--full justifyContent--spaceBetween alignItems--center u-marginTop--more">
                        <div class="u-width--full u-marginRight--more">
                            <h1 class="u-color--white u-fontWeight--bold u-fontSize--header u-textAlign--left">Create a Kubernetes Release</h1>
                            <p class="u-fontSize--normal u-fontWeight--medium u-color--white u-marginTop--normal u-lineHeight--normal">An overview of why it makes sense to ship Replicated with your Kubernetes application</p>
                        </div>
                        <div class="flex-auto u-hidden--mobileTablet">
                            <span class="icon u-replicatedKubernetes u-marginRight--normal"></span>
                        </div>
                    </div>
                    
                </div>
            </div>
        </div>
        <div class="container">
            <div class="paddingContainer">
                <div class="u-flexTabletReflow flex1">
                    <div class="flex-auto sidebar-wrapper">
                        <div class="sidebar">
                            <div>
                                
                                    <h3 class="u-fontWeight--medium u-borderBottom--gray u-paddingBottom--normal u-marginBottom--normal">Kubernetes Guide</h3>
                                    <ul>
                                    
                                    
                                        
                                            
                                                
                                                    <li class="blue"><a href="/guides/ship-with-kubernetes/create-release/">Create a Kubernetes Release</a></li>
                                                
                                            
                                        
                                            
                                                
                                                    <li><a href="/guides/ship-with-kubernetes/install/" class="u-color--curiousBlue">Installing and Testing a Kubernetes Release</a></li>
                                                
                                            
                                        
                                            
                                                
                                                    <li><a href="/guides/ship-with-kubernetes/iterate/" class="u-color--curiousBlue">Iterating and Updating</a></li>
                                                
                                            
                                        
                                            
                                                
                                                    <li><a href="/guides/ship-with-kubernetes/managing-storage/" class="u-color--curiousBlue">Managing Storage</a></li>
                                                
                                            
                                        
                                    
                                </ul>
                                
                            </div>
                        </div>
                    </div>
                    <div class="flex1 page-content-wrapper">
                        <div class="page-content">
                            

<h1 id="create-and-ship-a-release">Create and Ship a Release</h1>

<p>When starting and learning the Replicated platform, the <a href="https://vendor.replicated.com">Vendor Portal</a> will be the place you spend most of your time. This guide is designed to help you get familiar with the concepts and ideas that are important to successfully ship your application on Replicated. If you get stuck or need help, head to our <a href="https://help.replicated.com/community/">community</a>.</p>

<p>This guide will deploy one of the canonical Kubernetes applications using Replicated, and then iterate on it to ship an update. The guide isn&rsquo;t going to teach Kubernetes, but will start with a working Kubernetes application (<a href="https://github.com/kubernetes/examples/blob/master/guestbook/all-in-one/guestbook-all-in-one.yaml">Guestbook all-in-one example</a>).</p>


<h2 class="linked-headline" id="create-a-new-application">
    <a href="/guides/ship-with-kubernetes/create-release/#create-a-new-application" class="anchor" id="#create-a-new-application"></a>
    Create a New Application
</h2>


<p>To start, log in (or create an account) on <a href="https://vendor.replicated.com">vendor.replicated.com</a> and create a new application. After signing up and activating your account, you will be prompted to create a new application. Give it a name like &ldquo;Kubernetes Guestbook Example&rdquo;, select the &ldquo;Kubernetes + Replicated&rdquo; option, and click &ldquo;Create application&rdquo;.</p>

<p><img src="/images/guides/kubernetes/create-application.png" alt="Create Application" /></p>


<h2 class="linked-headline" id="releases">
    <a href="/guides/ship-with-kubernetes/create-release/#releases" class="anchor" id="#releases"></a>
    Releases
</h2>


<p>You&rsquo;ll should be at the channels page now. This is a list of your release channels, which are logical stacks for you to stage and promote releases to your customers. We&rsquo;ll explore this in more detail later. For now, click on the Releases item on the left menu and then click the &ldquo;Create a release&rdquo; button.</p>

<p><img src="/images/guides/kubernetes/create-release.png" alt="Create Release" /></p>


<h2 class="linked-headline" id="create-a-release">
    <a href="/guides/ship-with-kubernetes/create-release/#create-a-release" class="anchor" id="#create-a-release"></a>
    Create a Release
</h2>


<p>You should now see a YAML editor where you can define how you application will work and the integration with Replicated functionality. Once you are familiar with this concepts, you&rsquo;ll probably use our CLI and API to automate this and not manually edit YAML in this site. But for now, let&rsquo;s continue by adding the Guestbook example.</p>

<p><img src="/images/guides/kubernetes/default-yaml.png" alt="Default YAML" /></p>

<p>The default YAML document you have contains some boilerplate Replicated settings, and no Kubernetes specs. A Replicated release is a multi-doc YAML file, where each document is separated with a <code>---</code> line. The first line in each document must be a comment that identifies the type &ldquo;kind&rdquo; of document that is included. At the bottom of the default YAML file, you should see an empty document that contains:</p>

<pre><code class="language-yaml">---
# kind: scheduler-kubernetes

#
# Deploying your application via Kubernetes
# https://help.replicated.com/docs/packaging-an-application/kubernetes/
#
</code></pre>

<p>The first 2 lines of this are Replicated specific, and cannot be changed. But below this, let&rsquo;s paste in the <a href="https://raw.githubusercontent.com/kubernetes/kubernetes/master/examples/guestbook/all-in-one/guestbook-all-in-one.yaml">Guestbook application YAML</a>. The example YAML contains a few different Kubernetes specs, each identifies with a <code>---</code> separator. We need to include the <code># kind: scheduler-kubernetes</code> directive below each separator.  For reference, the <a href="https://gist.github.com/marccampbell/073749867dadba44b5a01b687d006552">fully constructed YAML is available</a>.</p>


<h2 class="linked-headline" id="save-and-promote-release">
    <a href="/guides/ship-with-kubernetes/create-release/#save-and-promote-release" class="anchor" id="#save-and-promote-release"></a>
    Save and Promote Release
</h2>


<p>Next, click the Save Release button. Once the release is saved, we should promote it to the Unstable channel to make this release available for installation. To do this, click the &ldquo;&lt; Releases&rdquo; link in the top left and then click the Promote button on the row we just created. In this popup, choose the Unstable channel and click the the Promote button.</p>

<p><img src="/images/guides/kubernetes/promote-release.png" alt="Create Application" /></p>

<p>That&rsquo;s all there is to creating and promoting a release in Replicated using Kubernetes.</p>

<p>In the <a href="../install">next guide</a>, we&rsquo;ll walk through creating a license and installing Kubernetes and the guestbook application on a test server.</p>

                            <div class="prev-next-arrows justifyContent--spaceBetween flex u-marginTop--most">
                                <div class="next flex u-textAlign--left">
                                
                                    
                                        <a href="/guides/native-scheduler/iterate/">
                                            <span class="icon u-chevronIcon"></span>
                                            Iterating And Updating
                                        </a>
                                    
                                
                                </div>
                                <div class="previous flex u-textAlign--right">
                                
                                    
                                        <a href="/guides/ship-with-kubernetes/install/">
                                            Installing and Testing a Kubernetes Release
                                            <span class="icon u-chevronIcon"></span>
                                        </a>
                                    
                                
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div>
            
        </div>
    </article>
</main>
	<footer>
		<div class="container">
			<div class="footer-items-wrapper">
        <div class="footer-list flex1 paddingContainer">
					<div class="footer-list-item">
  <div class="footer-item">
    <div class="u-paddingBottom--normal">
      <a target="_blank" class="u-cursor--pointer" href="https://www.replicated.com">
        <img width="130" src="/images/footer_logo@2x.png"/>
      </a>
    </div>
    <div class="u-fontSize--small u-color--dustyGray u-marginBottom--small u-hidden--mobileTablet">&copy; 2018 <a> &nbsp;Replicated Inc.</a></div>
    <div class="u-fontSize--small u-color--dustyGray u-hidden--mobileTablet">All Rights Reserved</div>
  </div>
</div><div class="footer-list-item">
  <div class="footer-item">
    <p class="u-fontWeight--medium u-color--tuna">Help Center</p>
    <ul>
      <li><a class="u-color--dustyGray u-textDecoration--underlineOnHover" href="/guides">Guides</a></li>
      <li><a class="u-color--dustyGray u-textDecoration--underlineOnHover" href="/docs">Documentation</a></li>
      <li><a class="u-color--dustyGray u-textDecoration--underlineOnHover" href="/api">API Reference</a></li>
      <li><a class="u-color--dustyGray u-textDecoration--underlineOnHover" href="https://vendor.replicated.com/support">Contact Support</a></li>
    </ul>
  </div>
</div><div class="footer-list-item">
  <div class="footer-item">
    <p class="u-fontWeight--medium u-color--tuna">Company</p>
    <ul>
      <li><a class="u-color--dustyGray u-textDecoration--underlineOnHover" href="https://www.replicated.com">About Replicated</a></li>
      <li><a class="u-color--dustyGray u-textDecoration--underlineOnHover" href="https://blog.replicated.com">Replicated Blog</a></li>
      <li><a class="u-color--dustyGray u-textDecoration--underlineOnHover" href="https://www.replicated.com/careers">Careers</a></li>
      <li><a class="u-color--dustyGray u-textDecoration--underlineOnHover">RSS Feed</a></li>
    </ul>
  </div>
</div><div class="footer-list-item">
  <div class="footer-item">
    <p class="u-fontWeight--medium u-color--tuna">Contact</p>
    <ul>
      <li><a class="u-color--dustyGray u-textDecoration--underlineOnHover" href="https://twitter.com/replicatedhq">Twitter</a></li>
      <li><a class="u-color--dustyGray u-textDecoration--underlineOnHover" href="mailto:contact@replicated.com">Email</a></li>
    </ul>
  </div>
</div><div class="footer-list-item">
  <div class="footer-item">
    <p class="u-fontWeight--medium u-color--tuna">More</p>
    <ul>
      <li><a class="u-color--dustyGray u-textDecoration--underlineOnHover" href="https://github.com/replicatedhq">GitHub</a></li>
      <li><a class="u-color--dustyGray u-textDecoration--underlineOnHover" href="https://www.enterpriseready.io">EnterpriseReady.io</a></li>
    </ul>
  </div>
</div>

        </div>
			</div>
		</div>
	</footer>

	
      <script>
        (function(i,s,o,g,r,a,m){
          i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||
          []).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;
          m.parentNode.insertBefore(a,m)
        })(window, document,
          'script', '//www.google-analytics.com/analytics.js', 'ga');
         
        ga('create', 'UA-61084834-1', 'auto');
        ga('set', 'anonymizeIp', true);
        ga('send', 'pageview');
         
        var buttons = document.querySelectorAll('a');
        Array.prototype.map.call(buttons, function(item) {
          if (item.host != document.location.host) {
            item.addEventListener('click', function() {
              var action = item.getAttribute('data-action') || 'follow';
              ga('send', 'event', 'outbound', action, item.href);
            });
          }
        });
      </script>
    
 
	<script src="https://cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script>
	<script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/2.4.1/lodash.min.js"></script>

  
  

    
    
      
        <script src="/js/prod/autocomplete-search.js"></script>
      
      
    

  

	<script src="/js/prism.js"></script>
	<script>
		function toggleMenuClass() {
			this.classList.toggle("open");
			document.getElementById("headerLinks").classList.toggle("show");
		}
		const toggleMenu = document.getElementById("toggleNav");
		if (toggleMenu) {
			toggleMenu.addEventListener("click", toggleMenuClass);
		};
	</script>

  <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
  <script src="/js/featherlight.min.js"></script>
	<script>
		$('#desktop-search').on("click", function () {
      if(!$('#search-field').is(":visible")) {
        $('#search-field').show("slide", { direction: "right" }, 300);
        $('#search-field').focus();
      }
		});

    $('#search-field').on("blur", function () {
      $(this).hide("slide", { direction: "right" }, 300);
    });

    $('#dropdown-link').on('click', function() {
      $('#scheduler-dropdown-menu').toggle();
    });

    $(document).on('click', function(e) {
      var target = e.target;
      if(target.id !== "dropdown-link") {
        $('#scheduler-dropdown-menu').hide();
      }
    });

    $('.tooltip').tooltip({
      position: {  my: "center bottom-10", at: "center top"  },
      show: { effect: "fade", duration: 200 },
      hide: { effect: "fade", duration: 200 }
    });
	</script>
</body>
</html>
